<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bridge CRM - –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.5/dist/mermaid.min.js"></script>
    <script>
        // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Mermaid
        if (typeof mermaid !== 'undefined') {
            console.log('Mermaid –∑–∞–≥—Ä—É–∂–µ–Ω, –≤–µ—Ä—Å–∏—è:', mermaid.version || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞');
        } else {
            console.error('Mermaid –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
        }
    </script>
    <style>
        * {
            padding: 0;
            margin: 0;
            border: 0;
            box-sizing: border-box;
        }

        *:before,
        *:after {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            width: 100%;
            font-family: "Play", sans-serif;
            background: #fff;
            color: #000;
            scroll-behavior: smooth;
        }

        .wrapper {
            display: flex;
            min-height: 100vh;
        }

        /* –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .sidebar {
            width: 300px;
            background: #fafafa;
            border-right: 1px solid #e0e0e0;
            padding: 30px 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #0095ff;
        }

        .sidebar-header h1 {
            font-size: 24px;
            font-weight: 700;
            color: #0095ff;
            margin-bottom: 5px;
        }

        .sidebar-header .subtitle {
            font-size: 12px;
            color: #97999c;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 5px;
        }

        .nav-menu a {
            display: block;
            padding: 10px 15px;
            color: #000;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .nav-menu a:hover {
            background: #e8f4fd;
            color: #0095ff;
        }

        .nav-menu a.active {
            background: #0095ff;
            color: #fff;
        }

        .nav-menu .nav-section {
            font-weight: 700;
            color: #0095ff;
            margin-top: 15px;
            margin-bottom: 8px;
            padding: 0 15px;
            font-size: 12px;
            text-transform: uppercase;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            flex: 1;
            margin-left: 300px;
            padding: 40px 60px;
            max-width: 1200px;
        }

        .header {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #0095ff;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 700;
            background: linear-gradient(135deg, #0095ff 0%, #000 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .header .meta {
            font-size: 14px;
            color: #97999c;
            margin-top: 10px;
        }

        /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
        h2 {
            font-size: 32px;
            font-weight: 700;
            color: #000;
            margin-top: 50px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #0095ff;
        }

        h3 {
            font-size: 24px;
            font-weight: 700;
            color: #000;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h4 {
            font-size: 20px;
            font-weight: 700;
            color: #000;
            margin-top: 25px;
            margin-bottom: 12px;
        }

        p {
            font-size: 16px;
            line-height: 1.6;
            color: #000;
            margin-bottom: 15px;
        }

        ul,
        ol {
            margin-bottom: 20px;
            padding-left: 30px;
        }

        li {
            font-size: 16px;
            line-height: 1.6;
            color: #000;
            margin-bottom: 8px;
        }

        ul li {
            list-style: none;
            position: relative;
            padding-left: 25px;
        }

        ul li::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #0095ff;
            font-weight: 700;
            font-size: 1.5em;
        }

        ol li {
            list-style: decimal;
        }

        /* –ë–ª–æ–∫–∏ –∫–æ–¥–∞ */
        pre {
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-left: 4px solid #0095ff;
            border-radius: 5px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
        }

        code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #333;
        }

        pre code {
            color: #000;
        }

        /* –í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ */
        .highlight-box {
            background: linear-gradient(135deg, #0095ff 0%, #0077cc 100%);
            color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box h3,
        .highlight-box h4,
        .highlight-box p,
        .highlight-box li {
            color: #fff;
        }

        .highlight-box ul li::before {
            color: #fff;
        }

        .info-box {
            background: #e8f4fd;
            border-left: 4px solid #0095ff;
            border-radius: 5px;
            padding: 15px 20px;
            margin: 20px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 5px;
            padding: 15px 20px;
            margin: 20px 0;
        }

        /* –¢–∞–±–ª–∏—Ü—ã */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table th,
        table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        table th {
            background: #f5f5f5;
            font-weight: 700;
            color: #0095ff;
        }

        table tr:hover {
            background: #f9f9f9;
        }

        /* Mermaid –¥–∏–∞–≥—Ä–∞–º–º—ã */
        .mermaid {
            margin: 30px 0;
            text-align: center;
            background: #fafafa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: auto;
            min-height: 500px;
            width: 100%;
            display: block;
        }

        .mermaid svg {
            max-width: 100%;
            height: auto !important;
            overflow: visible;
            display: block;
            margin: 0 auto;
        }

        /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ SVG –≤–∏–¥–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é */
        .mermaid[data-processed="true"] {
            min-height: auto;
        }

        /* –£–ª—É—á—à–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 768px) {
            .mermaid {
                min-height: 300px;
                padding: 15px;
                overflow-x: auto;
                overflow-y: visible;
            }
        }

        .mermaid:hover {
            border-color: #0095ff;
            box-shadow: 0 5px 15px rgba(0, 149, 255, 0.2);
        }

        .mermaid-container,
        .mindmap-container {
            position: relative;
            width: 100%;
            overflow: auto;
            margin-bottom: 30px;
            background: #fafafa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #e0e0e0;
        }

        .mermaid-container .mermaid {
            margin: 0;
            background: transparent;
            border: none;
            padding: 0;
        }

        /* Mindmap Preview */
        .mindmap-preview {
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .mindmap-preview-content {
            text-align: center;
            z-index: 1;
        }

        .mindmap-center {
            font-size: 48px;
            font-weight: 700;
            color: #0095ff;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .mindmap-branches {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }

        .mindmap-branch {
            background: #fff;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            color: #0095ff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .mindmap-branch:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px rgba(0, 149, 255, 0.3);
        }

        /* Mindmap Modal */
        .mindmap-modal-content {
            width: 98vw;
            height: 98vh;
            max-width: none;
            max-height: none;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        .mindmap-header {
            padding: 20px 30px;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fafafa;
        }

        .mindmap-controls {
            display: flex;
            gap: 10px;
        }

        .mindmap-controls button {
            background: #0095ff;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .mindmap-controls button:hover {
            background: #0077cc;
            transform: scale(1.05);
        }

        .mindmap-wrapper {
            flex: 1;
            overflow: hidden;
            position: relative;
            background: #fff;
        }

        .mindmap-canvas {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
            padding: 20px;
        }

        /* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –∑–Ω–∞–Ω–∏–π */
        .knowledge-tree {
            font-family: "Play", sans-serif;
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            padding: 20px;
            max-width: 100%;
            overflow-x: auto;
        }

        .tree-node {
            margin: 4px 0;
            position: relative;
        }

        .tree-node-content {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            min-height: 40px;
            margin: 2px 0;
        }

        .tree-node-content:hover {
            background: #f0f7ff;
            transform: translateX(3px);
        }

        .tree-node-content.active {
            background: #e8f4fd;
            border-left: 3px solid #0095ff;
        }

        .tree-node-content[data-section] {
            cursor: pointer;
        }

        .tree-node-content[data-section]:hover {
            background: #f0f7ff;
        }

        .tree-toggle {
            width: 20px;
            height: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            border-radius: 4px;
            background: #f0f0f0;
            color: #666;
            font-size: 12px;
            font-weight: 700;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .tree-toggle:hover {
            background: #0095ff;
            color: #fff;
        }

        .tree-node.expanded > .tree-node-content > .tree-toggle {
            background: #0095ff;
            color: #fff;
        }

        .tree-node.expanded > .tree-node-content > .tree-toggle::before {
            content: '‚àí';
        }

        .tree-node:not(.expanded) > .tree-node-content > .tree-toggle::before {
            content: '+';
        }

        .tree-node.leaf > .tree-node-content > .tree-toggle {
            visibility: hidden;
            width: 0;
            margin: 0;
        }

        .tree-label {
            flex: 1;
            font-weight: 500;
            color: #333;
        }

        .tree-node.level-0 > .tree-node-content > .tree-label {
            font-size: 20px;
            font-weight: 700;
            color: #0095ff;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .tree-node.level-1 > .tree-node-content > .tree-label {
            font-size: 17px;
            font-weight: 600;
            color: #0077cc;
        }

        .tree-node.level-2 > .tree-node-content > .tree-label {
            font-size: 15px;
            font-weight: 500;
            color: #333;
        }

        .tree-node.level-3 > .tree-node-content > .tree-label {
            font-size: 14px;
            color: #666;
        }

        .tree-node.level-4 > .tree-node-content > .tree-label {
            font-size: 13px;
            color: #888;
        }

        .tree-children {
            margin-left: 28px;
            border-left: 2px solid #e0e0e0;
            padding-left: 12px;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(-10px);
        }

        .tree-node.expanded > .tree-children {
            max-height: 10000px;
            opacity: 1;
            margin-top: 4px;
            margin-bottom: 4px;
            transform: translateY(0);
            border-left-color: #0095ff;
        }

        .tree-icon {
            margin-right: 8px;
            font-size: 14px;
            opacity: 0.6;
        }

        .tree-search {
            margin-bottom: 20px;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            width: 100%;
            box-sizing: border-box;
            transition: border-color 0.3s ease;
        }

        .tree-search:focus {
            outline: none;
            border-color: #0095ff;
        }

        .tree-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .tree-control-btn {
            padding: 8px 16px;
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            color: #666;
            transition: all 0.2s ease;
        }

        .tree-control-btn:hover {
            background: #0095ff;
            color: #fff;
            border-color: #0095ff;
        }

        .tree-node.highlighted > .tree-node-content {
            background: #fff3cd;
            border-left: 3px solid #ffc107;
        }

        .tree-node.hidden {
            display: none;
        }

        .tree-stats {
            font-size: 12px;
            color: #999;
            margin-bottom: 15px;
            padding: 8px 12px;
            background: #f9f9f9;
            border-radius: 6px;
            display: flex;
            gap: 15px;
        }

        .tree-stats span {
            font-weight: 600;
            color: #0095ff;
        }

        /* –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tree-node.expanded > .tree-children > .tree-node {
            animation: slideDown 0.2s ease-out;
        }

        /* –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è –¥–µ—Ä–µ–≤–∞ */
        .mindmap-canvas::-webkit-scrollbar {
            width: 8px;
        }

        .mindmap-canvas::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .mindmap-canvas::-webkit-scrollbar-thumb {
            background: #0095ff;
            border-radius: 4px;
        }

        .mindmap-canvas::-webkit-scrollbar-thumb:hover {
            background: #0077cc;
        }

        .mermaid-zoom-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #0095ff;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 700;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .mermaid-zoom-btn:hover {
            background: #0077cc;
            transform: scale(1.05);
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            max-width: 95vw;
            max-height: 95vh;
            overflow: auto;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #0095ff;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10001;
        }

        .modal-close:hover {
            background: #0077cc;
            transform: rotate(90deg);
        }

        .modal .mermaid {
            min-width: 1100px;
            min-height: 900px;
            cursor: default;
            width: 100%;
            overflow: auto;
            display: block;
            position: relative;
            padding: 40px;
        }

        .modal .mermaid svg {
            width: 100% !important;
            height: auto !important;
            max-width: none;
            overflow: visible;
            display: block;
            min-width: 1000px;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
        .mermaid-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            color: #0095ff;
            font-size: 18px;
        }

        .mermaid-loading::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        .mermaid-error {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            color: #856404;
            text-align: center;
        }

        /* –ö–æ–Ω—Ç—Ä–æ–ª—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è */
        .diagram-controls {
            position: absolute;
            top: 15px;
            right: 60px;
            display: flex;
            gap: 10px;
            z-index: 10001;
        }

        .diagram-controls button {
            background: #0095ff;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .diagram-controls button:hover {
            background: #0077cc;
        }

        @media (max-width: 1400px) {
            .modal .mermaid {
                min-width: 100%;
                min-height: 700px;
            }
            
            .modal-content {
                min-width: 95vw;
            }
        }

        .modal-content {
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            max-width: 98vw;
            max-height: 98vh;
            overflow: auto;
            position: relative;
            animation: slideIn 0.3s ease;
            width: auto;
            min-width: 1200px;
        }

        @media (max-width: 1400px) {
            .modal-content {
                min-width: 95vw;
            }
        }

        /* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–∏–∞–≥—Ä–∞–º–º—ã */
        .mermaid svg .node rect,
        .mermaid svg .node circle,
        .mermaid svg .node ellipse,
        .mermaid svg .node polygon {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mermaid svg .node rect:hover,
        .mermaid svg .node circle:hover,
        .mermaid svg .node ellipse:hover,
        .mermaid svg .node polygon:hover {
            fill: #e8f4fd !important;
            stroke: #0095ff !important;
            stroke-width: 3px !important;
            filter: drop-shadow(0 0 8px rgba(0, 149, 255, 0.5));
        }

        .mermaid svg .node.expanded rect,
        .mermaid svg .node.expanded circle,
        .mermaid svg .node.expanded ellipse,
        .mermaid svg .node.expanded polygon {
            fill: #0095ff !important;
            stroke: #0077cc !important;
            stroke-width: 3px !important;
        }

        .mermaid svg .node.expanded .nodeLabel {
            fill: #fff !important;
            font-weight: 700;
        }

        .mermaid svg .edgePath path {
            transition: all 0.3s ease;
        }

        .mermaid svg .edgePath.highlighted path {
            stroke: #0095ff !important;
            stroke-width: 3px !important;
        }

        .mermaid svg .edgePath.highlighted .arrowheadPath {
            fill: #0095ff !important;
        }

        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .node-info {
            position: fixed;
            background: #fff;
            border: 2px solid #0095ff;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            max-width: 350px;
            z-index: 10002;
            display: none;
            pointer-events: none;
        }

        .node-info.active {
            display: block;
            animation: slideIn 0.2s ease;
            pointer-events: auto;
        }

        .node-info h4 {
            color: #0095ff;
            margin-bottom: 10px;
            font-size: 18px;
            border-bottom: 2px solid #e8f4fd;
            padding-bottom: 8px;
        }

        .node-info p {
            font-size: 14px;
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .node-info ul {
            margin-top: 10px;
            padding-left: 20px;
        }

        .node-info li {
            font-size: 13px;
            margin-bottom: 5px;
            line-height: 1.4;
        }

        .node-info .close-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: transparent;
            border: none;
            color: #0095ff;
            font-size: 20px;
            cursor: pointer;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .node-info .close-btn:hover {
            background: #e8f4fd;
        }

        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            margin-bottom: 50px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .section-title::before {
            content: "";
            width: 4px;
            height: 30px;
            background: #0095ff;
            border-radius: 2px;
        }

        /* –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #0095ff;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
            font-size: 24px;
            text-decoration: none;
        }

        .scroll-top.visible {
            opacity: 1;
        }

        .scroll-top:hover {
            background: #0077cc;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1024px) {
            .sidebar {
                width: 250px;
            }

            .content {
                margin-left: 250px;
                padding: 30px 40px;
            }
        }

        @media (max-width: 768px) {
            .wrapper {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }

            .content {
                margin-left: 0;
                padding: 20px;
            }

            .header h1 {
                font-size: 28px;
            }

            h2 {
                font-size: 24px;
            }

            h3 {
                font-size: 20px;
            }
        }

        /* –≠–º–æ–¥–∑–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö */
        h2::before {
            margin-right: 10px;
        }

        /* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ */
        hr {
            border: none;
            border-top: 2px solid #e0e0e0;
            margin: 40px 0;
        }

        /* –°—Å—ã–ª–∫–∏ */
        a {
            color: #0095ff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* –ë–ª–æ–∫–∏ —Å –∫–æ–¥–æ–º Python/JSON */
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            border-radius: 5px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
        }

        .code-block code {
            color: #f8f8f2;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>Bridge CRM</h1>
                <div class="subtitle">–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑</div>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-section">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</li>
                    <li><a href="#intro">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
                    <li><a href="#architecture">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</a></li>
                    <li><a href="#business-processes">–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã</a></li>
                    <li><a href="#platform-workflow">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</a></li>
                    <li><a href="#roles">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–π</a></li>
                    <li><a href="#technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a></li>
                    <li><a href="#integrations">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</a></li>
                    <li><a href="#security">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></li>
                    <li><a href="#diagrams">–î–∏–∞–≥—Ä–∞–º–º—ã</a></li>
                    <li><a href="#conclusions">–í—ã–≤–æ–¥—ã</a></li>
                </ul>
            </nav>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="content">
            <div class="header" id="intro">
                <h1>–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ Bridge CRM</h1>
                <div class="meta">
                    <strong>–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:</strong> 2.0 (Django)<br>
                    <strong>–°—Ç–∞—Ç—É—Å:</strong> –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ<br>
                    <strong>–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:</strong> 2025-01-XX
                </div>
            </div>

            <section class="section" id="architecture">
                <h2>üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                
                <h3>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è</h3>
                <p>–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>–º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Django</strong> —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:</p>
                
                <pre><code>bridge_crm_django/
‚îú‚îÄ‚îÄ core/              # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (BaseModel, BaseTimestampedModel)
‚îú‚îÄ‚îÄ common/            # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (Currency, Kato, SubjectType)
‚îú‚îÄ‚îÄ accounts/         # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏ (UserProfile, —Ä–æ–ª–∏)
‚îú‚îÄ‚îÄ announces/        # –û–±—ä—è–≤–ª–µ–Ω–∏—è –æ —Ç–µ–Ω–¥–µ—Ä–∞—Ö (Announce, AnnounceLot)
‚îú‚îÄ‚îÄ deals/            # üéØ –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –°–£–©–ù–û–°–¢–¨ - –°–¥–µ–ª–∫–∏
‚îú‚îÄ‚îÄ customers/         # –ó–∞–∫–∞–∑—á–∏–∫–∏ (Interest, Order)
‚îú‚îÄ‚îÄ suppliers/         # –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ (Product, Offer)
‚îú‚îÄ‚îÄ operators_kz/      # –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω
‚îú‚îÄ‚îÄ operators_cn/      # –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–∏—Ç–∞–π
‚îú‚îÄ‚îÄ carriers/          # –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏
‚îú‚îÄ‚îÄ customs/           # –¢–∞–º–æ–∂–Ω—è
‚îú‚îÄ‚îÄ integrations/      # –í–Ω–µ—à–Ω–∏–µ API (read-only)
‚îî‚îÄ‚îÄ tenders/           # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (legacy)</code></pre>

                <h3>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</h3>
                <ul>
                    <li><strong>Deal-—Ü–µ–Ω—Ç—Ä–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</strong> - –≤—Å–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –≤—Ä–∞—â–∞—é—Ç—Å—è –≤–æ–∫—Ä—É–≥ –º–æ–¥–µ–ª–∏ <code>Deal</code></li>
                    <li><strong>–û–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞</strong> - —Å—Ç—Ä–æ–≥–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Å–∏—Å—Ç–µ–º—ã</li>
                    <li><strong>State Machine</strong> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —á–µ—Ä–µ–∑ –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç</li>
                    <li><strong>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong> - –∫–∞–∂–¥–∞—è —Ä–æ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–π –º–æ–¥—É–ª—å</li>
                </ul>
            </section>

            <section class="section" id="business-processes">
                <h2>üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤</h2>
                
                <h3>–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–¥–µ–ª–∫–∏ (Deal)</h3>
                <p>–°–¥–µ–ª–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ <strong>7 —É—Ä–æ–≤–Ω–µ–π</strong> —Å —Ç—Ä–µ–º—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏:</p>
                
                <h4>–£—Ä–æ–≤–µ–Ω—å 1: –ò–Ω—Ç–µ—Ä–µ—Å (Interest)</h4>
                <ul>
                    <li>–ó–∞–∫–∞–∑—á–∏–∫ –ø—Ä–æ—è–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å –∫ –ª–æ—Ç—É</li>
                    <li>–ï—â—ë –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ, —Ç–æ–ª—å–∫–æ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ</li>
                    <li>–ú–æ–¥–µ–ª—å: <code>customers.Interest</code></li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 2: –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (Offer)</h4>
                <ul>
                    <li>–ü–æ—Å—Ç–∞–≤—â–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</li>
                    <li>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç</li>
                    <li>–ú–æ–¥–µ–ª—å: <code>suppliers.Offer</code></li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 3: –ó–∞–∫–∞–∑ (Order)</h4>
                <ul>
                    <li>–ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ—Ç–∞</li>
                    <li>–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è <code>Deal</code></li>
                    <li>–ú–æ–¥–µ–ª—å: <code>customers.Order</code></li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 4: –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (Financial Status)</h4>
                <ul>
                    <li><strong>PENDING</strong> ‚Üí –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã</li>
                    <li><strong>PAYMENT_INITIATED</strong> ‚Üí –û–ø–ª–∞—Ç–∞ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞–∫–∞–∑—á–∏–∫–æ–º</li>
                    <li><strong>PAYMENT_RECEIVED</strong> ‚Üí –û–ø–ª–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤)</li>
                    <li><strong>FUNDS_TRANSFERRED</strong> ‚Üí –°—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥–∞–Ω—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó</li>
                    <li><strong>OPERATOR_CN_FUNDS_RECEIVED</strong> ‚Üí –û–ø–µ—Ä–∞—Ç–æ—Ä CN –ø–æ–ª—É—á–∏–ª —Å—Ä–µ–¥—Å—Ç–≤–∞</li>
                    <li><strong>SUPPLIER_PAID</strong> ‚Üí –ü–æ—Å—Ç–∞–≤—â–∏–∫ –æ–ø–ª–∞—á–µ–Ω</li>
                    <li><strong>COMPLETED</strong> ‚Üí –§–∏–Ω–∞–Ω—Å—ã –∑–∞–∫—Ä—ã—Ç—ã</li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 5-6: –°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (Cargo Status)</h4>
                <ul>
                    <li><strong>NOT_STARTED</strong> ‚Üí –ì—Ä—É–∑ –Ω–µ –Ω–∞—á–∞—Ç</li>
                    <li><strong>CARGO_TRANSFERRED</strong> ‚Üí –ì—Ä—É–∑ –ø–µ—Ä–µ–¥–∞–Ω –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É</li>
                    <li><strong>IN_TRANSIT</strong> ‚Üí –í –ø—É—Ç–∏</li>
                    <li><strong>AT_CUSTOMS</strong> ‚Üí –ù–∞ —Ç–∞–º–æ–∂–Ω–µ</li>
                    <li><strong>CUSTOMS_CLEARED</strong> ‚Üí –¢–∞–º–æ–∂–Ω—è –ø—Ä–æ–π–¥–µ–Ω–∞</li>
                    <li><strong>DELIVERED</strong> ‚Üí –î–æ—Å—Ç–∞–≤–ª–µ–Ω –∑–∞–∫–∞–∑—á–∏–∫—É</li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 7: –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Document Status)</h4>
                <ul>
                    <li><strong>PENDING</strong> ‚Üí –î–æ–∫—É–º–µ–Ω—Ç—ã –æ–∂–∏–¥–∞—é—Ç</li>
                    <li><strong>SUBMITTED</strong> ‚Üí –î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–¥–∞–Ω—ã</li>
                    <li><strong>UNDER_REVIEW</strong> ‚Üí –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</li>
                    <li><strong>CORRIDOR_ASSIGNED</strong> ‚Üí –ö–æ—Ä–∏–¥–æ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω</li>
                    <li><strong>CLEARED</strong> ‚Üí –í—ã–ø—É—â–µ–Ω</li>
                    <li><strong>REJECTED</strong> ‚Üí –û—Ç–∫–ª–æ–Ω–µ–Ω</li>
                </ul>

                <h3>State Machine (–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç)</h3>
                <p>–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>State Machine</strong> –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:</p>
                
                <pre><code>DealState.CREATED
  ‚Üí DealState.OFFER_SUBMITTED
  ‚Üí DealState.SUPPLIER_SELECTED
  ‚Üí DealState.PAYMENT_INITIATED
  ‚Üí DealState.PAYMENT_RECEIVED
  ‚Üí DealState.FUNDS_TRANSFERRED
  ‚Üí DealState.OPERATOR_CN_FUNDS_RECEIVED
  ‚Üí DealState.SUPPLIER_PAID
  ‚Üí DealState.CARGO_TRANSFERRED
  ‚Üí DealState.IN_TRANSIT
  ‚Üí DealState.AT_CUSTOMS
  ‚Üí DealState.CUSTOMS_CLEARED
  ‚Üí DealState.DELIVERED
  ‚Üí DealState.COMPLETED</code></pre>

                <div class="info-box">
                    <strong>–ü—Ä–∞–≤–∏–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:</strong>
                    <ul>
                        <li>–ì—Ä—É–∑ –Ω–µ –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã</li>
                        <li>–ü–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑—á–∏–∫–∞</li>
                        <li>–ì—Ä—É–∑ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º</li>
                        <li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–º</li>
                        <li>–¢–∞–º–æ–∂–Ω—è –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞</li>
                    </ul>
                </div>

                <h3>–ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞ (–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–∂–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏)</h3>
                <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç <strong>–ø–ª–∞—Ç—ë–∂–Ω—É—é —Å—Ö–µ–º—É</strong> (<code>PaymentScheme</code>), –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:</p>
                <ul>
                    <li>–ö—Ç–æ –ø–ª–∞—Ç–∏—Ç</li>
                    <li>–ö–æ–º—É –ø–ª–∞—Ç–∏—Ç</li>
                    <li>–ó–∞ —á—Ç–æ –ø–ª–∞—Ç–∏—Ç</li>
                    <li>–í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ</li>
                </ul>

                <div class="highlight-box">
                    <strong>–í–∞–∂–Ω–æ:</strong> –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –º–æ–∂–µ—Ç <strong>–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å</strong> –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å—Ö–µ–º—É, —Ä–µ—à–∞—è, –∫—Ç–æ –±—É–¥–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ª–æ–≥–∏—Å—Ç–∏–∫—É –∏ —Ç–∞–º–æ–∂–Ω—é. –ù–∞–ø—Ä–∏–º–µ—Ä:
                    <ul>
                        <li>–°—Ö–µ–º–∞ 1: –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –ª–æ–≥–∏—Å—Ç–∏–∫—É –∏ —Ç–∞–º–æ–∂–Ω—é</li>
                        <li>–°—Ö–µ–º–∞ 2: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –ª–æ–≥–∏—Å—Ç–∏–∫—É –∏ —Ç–∞–º–æ–∂–Ω—é –Ω–∞–ø—Ä—è–º—É—é</li>
                    </ul>
                </div>

                <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º—ã</h4>
                <p><strong>–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Ç–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞ —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤):</strong></p>
                <pre><code>{
  "payments": [
    {
      "from": "platform",
      "to": "operator_kz",
      "amount": 1000.00,
      "currency": "KZT",
      "purpose": "supplier_payment",
      "order": 1,
      "status": "pending"
    },
    {
      "from": "operator_kz",
      "to": "operator_cn",
      "amount": 1000.00,
      "currency": "KZT",
      "purpose": "supplier_payment",
      "order": 2,
      "status": "pending"
    },
    {
      "from": "operator_cn",
      "to": "supplier",
      "amount": 1000.00,
      "currency": "CNY",
      "purpose": "supplier_payment",
      "order": 3,
      "status": "pending"
    },
    {
      "from": "operator_kz",
      "to": "carrier",
      "amount": 100.00,
      "currency": "KZT",
      "purpose": "logistics",
      "order": 4,
      "status": "pending"
    },
    {
      "from": "operator_kz",
      "to": "customs",
      "amount": 50.00,
      "currency": "KZT",
      "purpose": "customs_duties",
      "order": 5,
      "status": "pending"
    }
  ]
}</code></pre>

                <p><strong>–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Å—Ö–µ–º–∞ - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–ª–∞—Ç–∏—Ç –Ω–∞–ø—Ä—è–º—É—é):</strong></p>
                <pre><code>{
  "payments": [
    {
      "from": "platform",
      "to": "operator_cn",
      "amount": 1000.00,
      "currency": "KZT",
      "purpose": "supplier_payment",
      "order": 1,
      "status": "pending"
    },
    {
      "from": "operator_cn",
      "to": "supplier",
      "amount": 1000.00,
      "currency": "CNY",
      "purpose": "supplier_payment",
      "order": 2,
      "status": "pending"
    },
    {
      "from": "platform",
      "to": "carrier",
      "amount": 100.00,
      "currency": "KZT",
      "purpose": "logistics",
      "order": 3,
      "status": "pending"
    },
    {
      "from": "platform",
      "to": "customs",
      "amount": 50.00,
      "currency": "KZT",
      "purpose": "customs_duties",
      "order": 4,
      "status": "pending"
    }
  ]
}</code></pre>

                <h4>–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π</h4>
                <ul>
                    <li><strong>from</strong>: <code>"platform"</code>, <code>"operator_kz"</code>, <code>"operator_cn"</code></li>
                    <li><strong>to</strong>: <code>"operator_kz"</code>, <code>"operator_cn"</code>, <code>"supplier"</code>, <code>"carrier"</code>, <code>"customs"</code></li>
                    <li><strong>purpose</strong>: <code>"supplier_payment"</code>, <code>"logistics"</code>, <code>"customs_duties"</code></li>
                    <li><strong>status</strong>: <code>"pending"</code>, <code>"completed"</code>, <code>"failed"</code></li>
                </ul>

                <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π</h4>
                <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –º–æ–∂–µ—Ç:</p>
                <ol>
                    <li><strong>–°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É</strong> –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–¥–µ–ª–∫–∏</li>
                    <li><strong>–û–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É</strong> (—Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è, —Å—Ç–∞—Ä–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)</li>
                    <li><strong>–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–ª–∞—Ç–µ–∂–∏</strong> —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</li>
                    <li><strong>–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é</strong> –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã</li>
                </ol>

                <div class="warning-box">
                    <strong>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</strong><br>
                    <strong>–í–∞–∂–Ω–æ:</strong> –ü–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ö–∏—Ç–∞–µ, –ø–æ—ç—Ç–æ–º—É:
                    <ul>
                        <li>‚ùå –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó <strong>–ù–ï –º–æ–∂–µ—Ç</strong> –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –Ω–∞–ø—Ä—è–º—É—é</li>
                        <li>‚úÖ –¢–æ–ª—å–∫–æ <strong>–û–ø–µ—Ä–∞—Ç–æ—Ä CN</strong> –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –≤ –ö–∏—Ç–∞–µ</li>
                    </ul>
                </div>
            </section>

            <section class="section" id="platform-workflow">
                <h2>üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</h2>
                
                <h3>–û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã</h3>
                
                <h4>1. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (Announce)</h4>
                <p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫–∏:</strong></p>
                <ul>
                    <li><strong>–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ</strong> - –∑–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é</li>
                    <li><strong>–ì–æ—Å–ó–∞–∫—É–ø</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GraphQL API</li>
                    <li><strong>–°–∞–º—Ä—É–∫</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ REST API</li>
                </ul>

                <h4>2. –ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞ (Interest)</h4>
                <p><strong>–ó–∞–∫–∞–∑—á–∏–∫:</strong></p>
                <ul>
                    <li>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –ª–æ—Ç—ã</li>
                    <li>–ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å <code>Interest</code> (—Ç–∏–ø—ã: –°–ª–µ–∂–µ–Ω–∏–µ, –†–∞—Å—á—ë—Ç, –£—á–∞—Å—Ç–∏–µ)</li>
                    <li>–ï—â—ë –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ</li>
                </ul>

                <h4>3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (Offer)</h4>
                <p><strong>–ü–æ—Å—Ç–∞–≤—â–∏–∫:</strong></p>
                <ul>
                    <li>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ—Ç—ã</li>
                    <li>–°–æ–∑–¥–∞—ë—Ç <code>Offer</code> –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ—Ç–∞</li>
                    <li>–£–∫–∞–∑—ã–≤–∞–µ—Ç —Ü–µ–Ω—ã, —É—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –æ–ø–ª–∞—Ç—ã</li>
                    <li>–°–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ (<code>Product</code>)</li>
                </ul>

                <h4>4. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏ —Å–¥–µ–ª–∫–∏ (Order ‚Üí Deal)</h4>
                <p><strong>–ó–∞–∫–∞–∑—á–∏–∫:</strong></p>
                <ul>
                    <li>–°–æ–∑–¥–∞—ë—Ç <code>Order</code> –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ—Ç–∞</li>
                    <li>–í—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)</li>
                    <li>–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è <code>Deal</code></li>
                </ul>
                <div class="warning-box">
                    <strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –û–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ë–î)
                </div>

                <h4>5. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ—Ç–æ–∫</h4>
                <ol>
                    <li><strong>–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</strong> (–ó–∞–∫–∞–∑—á–∏–∫) - –°—Ç–∞—Ç—É—Å: <code>PAYMENT_INITIATED</code></li>
                    <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π</strong> - –°—Ä–µ–¥—Å—Ç–≤–∞ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è, —Å—Ç–∞—Ç—É—Å: <code>PAYMENT_RECEIVED</code></li>
                    <li><strong>–ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó</strong> - –°—Ç–∞—Ç—É—Å: <code>FUNDS_TRANSFERRED</code></li>
                    <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º CN</strong> - –°—Ç–∞—Ç—É—Å: <code>OPERATOR_CN_FUNDS_RECEIVED</code></li>
                    <li><strong>–û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</strong> (–û–ø–µ—Ä–∞—Ç–æ—Ä CN) - –°—Ç–∞—Ç—É—Å: <code>SUPPLIER_PAID</code>
                        <div class="warning-box" style="margin-top: 10px; margin-bottom: 10px;">
                            <strong>–í–∞–∂–Ω–æ:</strong> –¢–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä CN –º–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ö–∏—Ç–∞–µ
                        </div>
                    </li>
                    <li><strong>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º</strong> - –§–ª–∞–≥: <code>supplier_payment_confirmed = True</code></li>
                </ol>

                <h4>6. –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫</h4>
                <ol>
                    <li><strong>–ü–µ—Ä–µ–¥–∞—á–∞ –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É</strong> (–ü–æ—Å—Ç–∞–≤—â–∏–∫) - –°—Ç–∞—Ç—É—Å: <code>CARGO_TRANSFERRED</code></li>
                    <li><strong>–ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–º</strong> - –§–ª–∞–≥: <code>carrier_cargo_confirmed = True</code>, –°—Ç–∞—Ç—É—Å: <code>IN_TRANSIT</code></li>
                    <li><strong>–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Ç–∞–º–æ–∂–Ω—é</strong> - –°—Ç–∞—Ç—É—Å: <code>AT_CUSTOMS</code></li>
                    <li><strong>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–º–æ–∂–Ω–µ–π</strong> - –§–ª–∞–≥: <code>customs_cargo_confirmed = True</code></li>
                    <li><strong>–¢–∞–º–æ–∂–µ–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</strong> - –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: <code>CLEARED</code>, –°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞: <code>CUSTOMS_CLEARED</code></li>
                    <li><strong>–î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–∫–∞–∑—á–∏–∫—É</strong> - –°—Ç–∞—Ç—É—Å: <code>DELIVERED</code></li>
                </ol>
            </section>

            <section class="section" id="roles">
                <h2>üë• –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–π</h2>
                
                <h3>–†–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ</h3>
                
                <div class="highlight-box">
                    <h4>1. –ó–∞–∫–∞–∑—á–∏–∫ (Customer)</h4>
                    <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = CUSTOMER</code></p>
                    <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏ –ª–æ—Ç–æ–≤</li>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ (<code>Interest</code>)</li>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (<code>Order</code>) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç <code>Deal</code></li>
                        <li>–í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</li>
                        <li>–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</li>
                        <li>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h4>2. –ü–æ—Å—Ç–∞–≤—â–∏–∫ (Supplier)</h4>
                    <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = SUPPLIER</code></p>
                    <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (<code>Product</code>)</li>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (<code>Offer</code>)</li>
                        <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ª–æ—Ç–æ–≤</li>
                        <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã</li>
                        <li>–ü–µ—Ä–µ–¥–∞—á–∞ –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h4>3. –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó (Operator KZ)</h4>
                    <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = OPERATOR_KZ</code></p>
                    <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</li>
                        <li>–ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É CN</li>
                        <li>–û–ø–ª–∞—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –∏ —Ç–∞–º–æ–∂–Ω–∏ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º–µ)</li>
                        <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)</li>
                    </ul>
                    <p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p>
                    <ul>
                        <li>–í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</li>
                        <li>–ù–µ –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏ –±–µ–∑ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º—ã</li>
                        <li><strong>–ù–ï –º–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</strong> (–ø–æ—Å—Ç–∞–≤—â–∏–∫ –≤ –ö–∏—Ç–∞–µ, –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä CN)</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>4. –û–ø–µ—Ä–∞—Ç–æ—Ä CN (Operator CN)</h4>
                    <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = OPERATOR_CN</code></p>
                    <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–ó –∏–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</li>
                        <li><strong>–û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –≤ –ö–∏—Ç–∞–µ</strong> (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –∫—Ç–æ –º–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞)</li>
                        <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤</li>
                    </ul>
                    <p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p>
                    <ul>
                        <li>–í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</li>
                        <li>–ú–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–Ω–µ –ª–æ–≥–∏—Å—Ç–∏–∫—É –∏ —Ç–∞–º–æ–∂–Ω—é)</li>
                    </ul>
                </div>

                <h4>5. –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ (Carrier)</h4>
                <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = CARRIER</code></p>
                <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                <ul>
                    <li>–ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä—É–∑–∞ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</li>
                    <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞</li>
                    <li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≥—Ä—É–∑–∞</li>
                    <li>–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Ç–∞–º–æ–∂–Ω—é</li>
                    <li>–î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–∫–∞–∑—á–∏–∫—É</li>
                    <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –∑–∞ –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏</strong> (–æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–ó —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ)</li>
                </ul>
                <p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p>
                <ul>
                    <li>–í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</li>
                    <li>–ù–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã</li>
                </ul>

                <h4>6. –¢–∞–º–æ–∂–Ω—è (Customs)</h4>
                <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = CUSTOMS</code></p>
                <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                <ul>
                    <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞</li>
                    <li>–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–º–æ–∂–µ–Ω–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</li>
                    <li>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ä–∏–¥–æ—Ä–∞ (–∑–µ–ª—ë–Ω—ã–π/–∂—ë–ª—Ç—ã–π/–∫—Ä–∞—Å–Ω—ã–π)</li>
                    <li>–í—ã–ø—É—Å–∫ —Å —Ç–∞–º–æ–∂–Ω–∏</li>
                    <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –∑–∞ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏</strong> (–æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–ó —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ)</li>
                </ul>
                <p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p>
                <ul>
                    <li>–í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</li>
                    <li>–ù–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã</li>
                </ul>

                <div class="highlight-box">
                    <h4>7. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (Platform)</h4>
                    <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>user.is_staff = True</code></p>
                    <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–æ–≤</li>
                        <li>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ–¥ —Å–¥–µ–ª–∫–∏</li>
                        <li>–ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º</li>
                        <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç</li>
                        <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫</li>
                        <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π</li>
                        <li><strong>–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏</strong> (–∫—Ç–æ –∫–æ–º—É –ø–ª–∞—Ç–∏—Ç)</li>
                        <li><strong>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —Å—Ö–µ–º</strong> (—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π)</li>
                        <li><strong>–û–ø–ª–∞—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –∏ —Ç–∞–º–æ–∂–Ω–∏ –Ω–∞–ø—Ä—è–º—É—é</strong> (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ —Å—Ö–µ–º–µ)</li>
                        <li><strong>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π</strong> —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º–µ</li>
                    </ul>
                    <p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p>
                    <ul>
                        <li>–ù–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–¥–µ–ª–∫–∏ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                        <li>–ù–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –±–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</li>
                    </ul>
                </div>

                <h3>–ú–∞—Ç—Ä–∏—Ü–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</h3>
                <table>
                    <thead>
                        <tr>
                            <th>–†–æ–ª—å</th>
                            <th>–ú–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å</th>
                            <th>–ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å</th>
                            <th>–ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>–ó–∞–∫–∞–∑—á–∏–∫</strong></td>
                            <td>–°–≤–æ–∏ —Å–¥–µ–ª–∫–∏, –æ–±—ä—è–≤–ª–µ–Ω–∏—è</td>
                            <td>Interest, Order, Deal</td>
                            <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (–∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ)</td>
                        </tr>
                        <tr>
                            <td><strong>–ü–æ—Å—Ç–∞–≤—â–∏–∫</strong></td>
                            <td>–°–≤–æ–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ—Ç—ã</td>
                            <td>Product, Offer</td>
                            <td>–°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (–ø–µ—Ä–µ–¥–∞—á–∞), –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</td>
                        </tr>
                        <tr>
                            <td><strong>–û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (–ø–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É CN, –æ–ø–ª–∞—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏/—Ç–∞–º–æ–∂–Ω–∏)</td>
                        </tr>
                        <tr>
                            <td><strong>–û–ø–µ—Ä–∞—Ç–æ—Ä CN</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (–æ–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è)</td>
                        </tr>
                        <tr>
                            <td><strong>–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (–ø—Ä–∏–Ω—è—Ç–∏–µ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –¥–æ—Å—Ç–∞–≤–∫–∞), –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</td>
                        </tr>
                        <tr>
                            <td><strong>–¢–∞–º–æ–∂–Ω—è</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Å—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (—Ç–∞–º–æ–∂–Ω—è), –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</td>
                        </tr>
                        <tr>
                            <td><strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</strong></td>
                            <td>–í—Å–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>PaymentScheme</td>
                            <td>–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã (—á–µ—Ä–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É), —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section class="section" id="technical">
                <h2>üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>
                
                <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫</h3>
                <p><strong>Backend:</strong></p>
                <ul>
                    <li>Django 5.2.8</li>
                    <li>Django REST Framework</li>
                    <li>PostgreSQL (production) / SQLite (development)</li>
                    <li>Redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, Celery –±—Ä–æ–∫–µ—Ä)</li>
                    <li>Celery (—Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏)</li>
                    <li>Gunicorn (WSGI —Å–µ—Ä–≤–µ—Ä)</li>
                </ul>

                <p><strong>Frontend:</strong></p>
                <ul>
                    <li>HTML5, CSS3, JavaScript</li>
                    <li>jQuery</li>
                    <li>AOS (–∞–Ω–∏–º–∞—Ü–∏–∏)</li>
                    <li>Swiper (—Å–ª–∞–π–¥–µ—Ä—ã)</li>
                    <li>Flatpickr (–¥–∞—Ç—ã)</li>
                </ul>

                <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</h3>
                <h4>–ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã</h4>
                <ul>
                    <li><code>BaseModel</code> - UUID primary key</li>
                    <li><code>TimestampedModel</code> - create_date, update_date</li>
                    <li><code>BaseTimestampedModel</code> - UUID + timestamps</li>
                </ul>

                <h4>–ú–æ–¥–µ–ª—å Deal (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è)</h4>
                <p>–°–¥–µ–ª–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:</p>
                <ul>
                    <li>–°–≤—è–∑—å —Å –ª–æ—Ç–æ–º (<code>announce_lot</code>)</li>
                    <li>–ó–∞–∫–∞–∑—á–∏–∫ (<code>customer</code>)</li>
                    <li>–ü–æ—Å—Ç–∞–≤—â–∏–∫ (<code>supplier</code>)</li>
                    <li>–£—á–∞—Å—Ç–Ω–∏–∫–∏: <code>operator_kz</code>, <code>operator_cn</code>, <code>carrier</code>, <code>customs</code></li>
                    <li>–¢—Ä–∏ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–∞: <code>_financial_status</code>, <code>_cargo_status</code>, <code>_document_status</code></li>
                    <li>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤ (<code>funds_locked</code>)</li>
                </ul>

                <h4>–ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞ (PaymentScheme)</h4>
                <p>–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–∂–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏:</p>
                <ul>
                    <li>–ü–æ–ª—è: <code>status</code>, <code>version</code>, <code>previous_version</code></li>
                    <li>–ú–µ—Ç–æ–¥—ã: <code>get_active_payments()</code>, <code>get_next_payment()</code>, <code>mark_payment_completed()</code>, <code>update_scheme()</code></li>
                    <li>–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
                </ul>

                <h4>–ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏</h4>
                <ul>
                    <li><code>CarrierPayment</code> - –æ–ø–ª–∞—Ç–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É –∑–∞ –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏</li>
                    <li><code>CustomsPayment</code> - –æ–ø–ª–∞—Ç–∞ —Ç–∞–º–æ–∂–Ω–µ –∑–∞ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏</li>
                </ul>

                <h4>PaymentExecutor —Å–µ—Ä–≤–∏—Å</h4>
                <p>–°–µ—Ä–≤–∏—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º–µ:</p>
                <ul>
                    <li><code>can_execute_payment()</code> - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞</li>
                    <li><code>validate_payment_order()</code> - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
                    <li><code>execute_payment()</code> - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π</li>
                </ul>

                <h3>API –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h3>
                <p><strong>–û—Å–Ω–æ–≤–Ω–æ–π endpoint:</strong> <code>/api/v1/deals/</code></p>
                <p><strong>–î–µ–π—Å—Ç–≤–∏—è:</strong></p>
                <ul>
                    <li><code>POST /api/v1/deals/</code> - –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏ (–∑–∞–∫–∞–∑—á–∏–∫)</li>
                    <li><code>GET /api/v1/deals/</code> - –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ä–æ–ª–∏)</li>
                    <li><code>GET /api/v1/deals/{id}/</code> - –î–µ—Ç–∞–ª–∏ —Å–¥–µ–ª–∫–∏</li>
                    <li><code>POST /api/v1/deals/{id}/submit-offer/</code> - –ü–æ–¥–∞—á–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Å—Ç–∞–≤—â–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/select-supplier/</code> - –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–∑–∞–∫–∞–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/initiate-payment/</code> - –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã (–∑–∞–∫–∞–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/confirm-payment/</code> - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)</li>
                    <li><code>POST /api/v1/deals/{id}/transfer-funds/</code> - –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)</li>
                    <li><code>POST /api/v1/deals/{id}/create-payment-scheme/</code> - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º—ã (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)</li>
                    <li><code>POST /api/v1/deals/{id}/update-payment-scheme/</code> - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º—ã (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)</li>
                    <li><code>POST /api/v1/deals/{id}/execute-payment/</code> - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –ø–æ —Å—Ö–µ–º–µ</li>
                    <li><code>GET /api/v1/deals/{id}/payment-scheme/</code> - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ö–µ–º—ã</li>
                    <li><code>GET /api/v1/deals/{id}/payment-scheme/history/</code> - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã</li>
                    <li><code>POST /api/v1/deals/{id}/pay-supplier/</code> - –û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–æ–ø–µ—Ä–∞—Ç–æ—Ä CN) - —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å execute-payment</li>
                    <li><code>POST /api/v1/deals/{id}/accept-cargo/</code> - –ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä—É–∑–∞ (–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/deliver-to-customs/</code> - –î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Ç–∞–º–æ–∂–Ω—é (–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/process-customs/</code> - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–º–æ–∂–Ω–∏ (—Ç–∞–º–æ–∂–Ω—è)</li>
                    <li><code>POST /api/v1/deals/{id}/complete/</code> - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏</li>
                </ul>
            </section>

            <section class="section" id="integrations">
                <h2>üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</h2>
                
                <h3>–ì–æ—Å–ó–∞–∫—É–ø (goszakup.gov.kz)</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> GraphQL API</li>
                    <li><strong>URL:</strong> <code>https://ows.goszakup.gov.kz/v3/graphql</code></li>
                    <li><strong>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:</strong> Bearer Token</li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</li>
                </ul>

                <h3>–°–∞–º—Ä—É–∫ (zakup.sk.kz)</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> REST API</li>
                    <li><strong>URL:</strong> <code>https://zakup.sk.kz/eprocsearch/api/external/4dv3rts</code></li>
                    <li><strong>–ú–µ—Ç–æ–¥:</strong> POST</li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º</li>
                </ul>

                <h3>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ë–∞–Ω–∫ –†–ö</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> RSS XML</li>
                    <li><strong>URL:</strong> <code>https://nationalbank.kz/rss/get_rates.cfm</code></li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</li>
                </ul>

                <h3>NCANode (–≠–¶–ü)</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> REST API</li>
                    <li><strong>URL:</strong> <code>https://v3.ncanode.kz/api/v1</code></li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤</li>
                </ul>
            </section>

            <section class="section" id="security">
                <h2>üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</h2>
                
                <h3>–°–∏—Å—Ç–µ–º–∞ permissions</h3>
                <p><strong>View-level permissions (DRF):</strong></p>
                <ul>
                    <li><code>IsPlatform</code> - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (is_staff)</li>
                    <li><code>IsCustomer</code> - –ó–∞–∫–∞–∑—á–∏–∫</li>
                    <li><code>IsSupplier</code> - –ü–æ—Å—Ç–∞–≤—â–∏–∫</li>
                    <li><code>IsOperatorKZ</code> - –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó</li>
                    <li><code>IsOperatorCN</code> - –û–ø–µ—Ä–∞—Ç–æ—Ä CN</li>
                    <li><code>IsCarrier</code> - –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</li>
                    <li><code>IsCustoms</code> - –¢–∞–º–æ–∂–Ω—è</li>
                </ul>

                <p><strong>Object-level permissions (DealPolicy):</strong></p>
                <ul>
                    <li><code>DealPolicy.can_view()</code> - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–¥–µ–ª–∫–∏</li>
                    <li><code>DealPolicy.can_submit_offer()</code> - –ü–æ–¥–∞—á–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</li>
                    <li><code>DealPolicy.can_select_supplier()</code> - –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</li>
                    <li><code>DealPolicy.can_pay()</code> - –û–ø–ª–∞—Ç–∞</li>
                    <li><code>DealPolicy.can_confirm_payment()</code> - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</li>
                    <li><code>DealPolicy.can_transfer_funds()</code> - –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤</li>
                    <li>–ò –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã...</li>
                </ul>

                <div class="highlight-box">
                    <strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ <code>DealPolicy</code>
                </div>
            </section>

            <section class="section" id="diagrams">
                <h2>üó∫Ô∏è –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (–ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞)</h2>
                
                <h3>1. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h3>
                <div class="info-box" style="margin-bottom: 20px;">
                    <strong>üí° –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–Ω–∞–Ω–∏–π (Knowledge Tree):</strong>
                    <ul style="margin-top: 10px; margin-bottom: 0;">
                        <li>–ù–∞–∂–º–∏—Ç–µ <strong>"üîç –û—Ç–∫—Ä—ã—Ç—å –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ"</strong> –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</li>
                        <li><strong>–ö–ª–∏–∫–∞–π—Ç–µ –Ω–∞ —É–∑–ª—ã</strong> –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –≤–µ—Ç–≤–µ–π</li>
                        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>–ø–æ–∏—Å–∫</strong> –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
                        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è</li>
                        <li>–ù–∞–∂–º–∏—Ç–µ <strong>Escape</strong> –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –≤–Ω–µ –æ–∫–Ω–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è</li>
                    </ul>
                </div>
                <div class="mindmap-container" id="structure-diagram-container">
                    <button class="mermaid-zoom-btn" onclick="openMindMapModal()">üîç –û—Ç–∫—Ä—ã—Ç—å –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ</button>
                    <div class="mindmap-preview" id="mindmap-preview">
                        <div class="mindmap-preview-content">
                            <div class="mindmap-center">Bridge CRM</div>
                            <div class="mindmap-branches">
                                <div class="mindmap-branch">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</div>
                                <div class="mindmap-branch">–ú–æ–¥—É–ª–∏</div>
                                <div class="mindmap-branch">–†–æ–ª–∏</div>
                                <div class="mindmap-branch">–°—Ç–∞—Ç—É—Å—ã</div>
                                <div class="mindmap-branch">API</div>
                                <div class="mindmap-branch">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
                            </div>
                        </div>
                    </div>
                    <div class="mermaid" id="structure-diagram" style="display: none;">
graph TB
    subgraph "Core Layer"
        A[core/] --> A1[BaseModel]
        A --> A2[BaseTimestampedModel]
        A --> A3[TimestampedModel]
    end
    
    subgraph "Common Layer"
        B[common/] --> B1[Currency]
        B --> B2[Kato]
        B --> B3[SubjectType]
        B --> B4[TenderInfo]
    end
    
    subgraph "User Management"
        C[accounts/] --> C1[UserProfile]
        C --> C2[CustomerProfile]
        C --> C3[SupplierProfile]
        C --> C4[OperatorKZProfile]
        C --> C5[OperatorCNProfile]
        C --> C6[CarrierProfile]
        C --> C7[CustomsProfile]
    end
    
    subgraph "Deal-Centric Architecture"
        D[deals/] --> D1[Deal]
        D --> D2[DealStatusHistory]
        D --> D3[PaymentScheme]
        D --> D4[PlatformPaymentReceived]
        D --> D5[State Machine]
        D --> D6[DealPolicy]
    end
    
    subgraph "Business Entities"
        E[announces/] --> E1[Announce]
        E --> E2[AnnounceLot]
        E --> E3[LotFile]
        
        F[customers/] --> F1[Interest]
        F --> F2[Order]
        F --> F3[OrderItem]
        
        G[suppliers/] --> G1[Product]
        G --> G2[Offer]
        G --> G3[OfferAnnounceLot]
    end
    
    subgraph "Role Modules"
        H[operators_kz/]
        I[operators_cn/]
        J[carriers/]
        K[customs/]
    end
    
    subgraph "Integrations"
        L[integrations/] --> L1[GoszakupService]
        L --> L2[SamrukService]
        L --> L3[NationalBankService]
    end
    
    C1 --> D1
    E2 --> D1
    F2 --> D1
    G2 --> D1
    D1 --> D2
    D1 --> D3
    D1 --> D4
                    </div>
                </div>

                <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã -->
                <div class="modal" id="mindmapModal">
                    <div class="modal-content mindmap-modal-content">
                        <button class="modal-close" onclick="closeMindMapModal()">√ó</button>
                        <div class="mindmap-header">
                            <h3 style="margin: 0; color: #0095ff;">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–Ω–∞–Ω–∏–π Bridge CRM</h3>
                            <div class="mindmap-controls">
                                <button onclick="expandAllTree()" title="–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë">üìÇ</button>
                                <button onclick="collapseAllTree()" title="–°–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë">üìÅ</button>
                                <button onclick="expandFirstLevel()" title="–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å">üîç</button>
                            </div>
                        </div>
                        <div class="mindmap-wrapper" id="mindmap-wrapper">
                            <div class="mindmap-canvas" id="mindmap-canvas" style="padding: 20px;">
                                <div class="tree-controls">
                                    <button class="tree-control-btn" onclick="expandAllTree()">üìÇ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë</button>
                                    <button class="tree-control-btn" onclick="collapseAllTree()">üìÅ –°–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë</button>
                                    <button class="tree-control-btn" onclick="expandFirstLevel()">üîç –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å</button>
                                </div>
                                <input type="text" class="tree-search" id="treeSearch" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ä—Ç–µ –∑–Ω–∞–Ω–∏–π..." oninput="searchTree(this.value)">
                                <div class="tree-stats" id="treeStats">–í—Å–µ–≥–æ —É–∑–ª–æ–≤: <span id="totalNodes">0</span> | –í–∏–¥–∏–º—ã—Ö: <span id="visibleNodes">0</span></div>
                                <div class="knowledge-tree" id="knowledgeTree"></div>
                            </div>
                        </div>
                        <div class="node-info" id="nodeInfo"></div>
                    </div>
                </div>

                <h3>2. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–¥–µ–ª–∫–∏ (Deal Flow)</h3>
                <div class="mermaid">
stateDiagram-v2
    [*] --> Created: –°–æ–∑–¥–∞–Ω–∏–µ Deal
    
    Created --> OfferSubmitted: –ü–æ—Å—Ç–∞–≤—â–∏–∫ –ø–æ–¥–∞—ë—Ç Offer
    OfferSubmitted --> SupplierSelected: –ó–∞–∫–∞–∑—á–∏–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    SupplierSelected --> PaymentInitiated: –ó–∞–∫–∞–∑—á–∏–∫ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É
    
    PaymentInitiated --> PaymentReceived: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–ª—É—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É
    PaymentReceived --> FundsTransferred: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó
    FundsTransferred --> OperatorCNFundsReceived: –û–ø–µ—Ä–∞—Ç–æ—Ä CN –ø–æ–ª—É—á–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    OperatorCNFundsReceived --> SupplierPaid: –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    
    SupplierPaid --> CargoTransferred: –ü–æ—Å—Ç–∞–≤—â–∏–∫ –ø–µ—Ä–µ–¥–∞—ë—Ç –≥—Ä—É–∑ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É
    CargoTransferred --> InTransit: –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≥—Ä—É–∑
    InTransit --> AtCustoms: –ì—Ä—É–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ —Ç–∞–º–æ–∂–Ω—é
    AtCustoms --> CustomsCleared: –¢–∞–º–æ–∂–Ω—è –æ–±—Ä–∞–±–æ—Ç–∞–ª–∞
    CustomsCleared --> Delivered: –ì—Ä—É–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∑–∞–∫–∞–∑—á–∏–∫—É
    
    Delivered --> Completed: –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
    Completed --> [*]
                </div>

                <h3>3. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–π –≤ —Å–¥–µ–ª–∫–µ</h3>
<div class="mermaid">
graph TD
    subgraph "–ó–∞–∫–∞–∑—á–∏–∫ (Customer)"
        C1["–°–æ–∑–¥–∞—ë—Ç Order"] --> C2["–í—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞"]
        C2 --> C3["–ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É"]
        C3 --> C4["–ó–∞–≤–µ—Ä—à–∞–µ—Ç —Å–¥–µ–ª–∫—É"]
    end
    
    subgraph "–ü–æ—Å—Ç–∞–≤—â–∏–∫ (Supplier)"
        S1["–°–æ–∑–¥–∞—ë—Ç Offer"] --> S2["–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—É"]
        S2 --> S3["–ü–µ—Ä–µ–¥–∞—ë—Ç –≥—Ä—É–∑"]
    end
    
    subgraph "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (Platform)"
        P1["–ü–æ–ª—É—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É"] --> P2["–ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞"]
        P2 --> P3["–ü–µ—Ä–µ–¥–∞—ë—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó"]
    end
    
    subgraph "–û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó"
        O1["–ü–æ–ª—É—á–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞"] --> O2["–ü–µ—Ä–µ–¥–∞—ë—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É CN"]
        O2 --> O3["–û–ø–ª–∞—á–∏–≤–∞–µ—Ç –ª–æ–≥–∏—Å—Ç–∏–∫—É"]
        O3 --> O4["–û–ø–ª–∞—á–∏–≤–∞–µ—Ç —Ç–∞–º–æ–∂–Ω—é"]
    end
    
    subgraph "–û–ø–µ—Ä–∞—Ç–æ—Ä CN"
        OC1["–ü–æ–ª—É—á–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞"] --> OC2["–û–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ CN"]
    end
    
    subgraph "–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ (Carrier)"
        CR1["–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≥—Ä—É–∑"] --> CR2["–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç"]
        CR2 --> CR3["–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞ —Ç–∞–º–æ–∂–Ω—é"]
        CR3 --> CR4["–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑—á–∏–∫—É"]
    end
    
    subgraph "–¢–∞–º–æ–∂–Ω—è (Customs)"
        CS1["–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ"] --> CS2["–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã"]
        CS2 --> CS3["–í—ã–ø—É—Å–∫–∞–µ—Ç –≥—Ä—É–∑"]
    end
    
    D["Deal"]
    
    C1 --> D
    S1 --> D
    C2 --> D
    C3 --> P1
    P3 --> O1
    O2 --> OC1
    OC2 --> S2
    O3 -. "–û–ø–ª–∞—Ç–∞" .-> CR1
    O4 -. "–û–ø–ª–∞—Ç–∞" .-> CS1
    S3 --> CR1
    CR3 --> CS1
    CS3 --> CR4
    CR4 --> C4
    
    style OC2 fill:#ff6b6b,stroke:#333,stroke-width:2px
    style D fill:#0095ff,stroke:#0077cc,stroke-width:3px,color:#fff
</div>
<div class="info-box" style="margin-top: 10px;">
    <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –¢–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä CN –º–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ö–∏—Ç–∞–µ.
    –û–ø–µ—Ä–∞—Ç–æ—Ä CN –≤—ã–¥–µ–ª–µ–Ω –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏.
</div>

                <h3>4. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ—Ç–æ–∫</h3>
                <div class="mermaid">
sequenceDiagram
    participant C as –ó–∞–∫–∞–∑—á–∏–∫
    participant P as –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞
    participant OKZ as –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó
    participant OCN as –û–ø–µ—Ä–∞—Ç–æ—Ä CN
    participant S as –ü–æ—Å—Ç–∞–≤—â–∏–∫
    
    C->>P: 1. –ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É
    Note over C,P: financial_status = PAYMENT_INITIATED
    
    C->>P: 2. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏
    P->>P: 3. –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    Note over P: funds_locked = True
    P->>P: 4. –°–æ–∑–¥–∞—ë—Ç PlatformPaymentReceived
    Note over P: financial_status = PAYMENT_RECEIVED
    
    P->>OKZ: 5. –ü–µ—Ä–µ–¥–∞—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    Note over P,OKZ: financial_status = FUNDS_TRANSFERRED
    
    OKZ->>OCN: 6. –ü–µ—Ä–µ–¥–∞—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    Note over OKZ,OCN: financial_status = OPERATOR_CN_FUNDS_RECEIVED
    
    OCN->>S: 7. –û–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–≤ –ö–∏—Ç–∞–µ)
    Note over OCN,S: financial_status = SUPPLIER_PAID
    Note over OCN,S: –¢–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä CN –º–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    
    S->>S: 8. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ
    Note over S: supplier_payment_confirmed = True
                </div>

                <h3>5. –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫</h3>
                <div class="mermaid">
sequenceDiagram
    participant S as –ü–æ—Å—Ç–∞–≤—â–∏–∫
    participant CR as –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫
    participant CS as –¢–∞–º–æ–∂–Ω—è
    participant C as –ó–∞–∫–∞–∑—á–∏–∫
    
    Note over S: supplier_payment_confirmed = True
    
    S->>CR: 1. –ü–µ—Ä–µ–¥–∞—ë—Ç –≥—Ä—É–∑
    Note over S,CR: cargo_status = CARGO_TRANSFERRED
    
    CR->>CR: 2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ
    Note over CR: carrier_cargo_confirmed = True
    CR->>CR: 3. –ù–∞—á–∏–Ω–∞–µ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
    Note over CR: cargo_status = IN_TRANSIT
    
    CR->>CS: 4. –î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞ —Ç–∞–º–æ–∂–Ω—é
    Note over CR,CS: cargo_status = AT_CUSTOMS
    
    CS->>CS: 5. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ
    Note over CS: customs_cargo_confirmed = True
    
    CS->>CS: 6. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã
    Note over CS: document_status = CLEARED
    Note over CS: cargo_status = CUSTOMS_CLEARED
    
    CS->>CR: 7. –í—ã–ø—É—Å–∫–∞–µ—Ç –≥—Ä—É–∑
    CR->>C: 8. –î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑—á–∏–∫—É
    Note over CR,C: cargo_status = DELIVERED
                </div>
            </section>

            <section class="section" id="conclusions">
                <h2>üéØ –í—ã–≤–æ–¥—ã</h2>
                
                <h3>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h3>
                <ol>
                    <li><strong>–ß—ë—Ç–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</strong> - –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
                    <li><strong>Deal-—Ü–µ–Ω—Ç—Ä–∏—á–Ω–æ—Å—Ç—å</strong> - –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤—Ä–∞—â–∞—é—Ç—Å—è –≤–æ–∫—Ä—É–≥ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏</li>
                    <li><strong>State Machine</strong> - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</li>
                    <li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> - –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–æ–ª—è, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤</li>
                    <li><strong>–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</strong> - –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π</li>
                    <li><strong>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</li>
                </ol>

                <h3>–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è</h3>
                <ol>
                    <li><strong>–ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞</strong> - ‚úÖ <strong>–†–ï–ê–õ–ò–ó–û–í–ê–ù–û</strong> - –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–∂–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏
                        <ul>
                            <li>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ CarrierPayment –∏ CustomsPayment</li>
                            <li>‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∞ PaymentScheme (—Å—Ç–∞—Ç—É—Å—ã, –≤–µ—Ä—Å–∏–∏, –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)</li>
                            <li>‚úÖ –°–æ–∑–¥–∞–Ω PaymentExecutor –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π</li>
                            <li>‚úÖ API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º–æ–π</li>
                            <li>‚úÖ –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (17 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ)</li>
                        </ul>
                    </li>
                    <li><strong>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</strong> - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</li>
                    <li><strong>–û—Ç—á—ë—Ç—ã</strong> - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –æ—Ç—á—ë—Ç—ã –ø–æ —Å–¥–µ–ª–∫–∞–º</li>
                    <li><strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> - —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è PaymentExecutor –∏ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π)</li>
                </ol>

                <div class="highlight-box">
                    <h3>–°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–∏–±–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞—Ç–µ–∂–µ–π</h3>
                    <p><strong>–í—Å–µ —ç—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã:</strong></p>
                    <ul>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 1:</strong> –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ Deal (–¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è operator_kz, operator_cn, carrier, customs)</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 2:</strong> –ú–æ–¥–µ–ª–∏ –¥–ª—è –æ–ø–ª–∞—Ç—ã –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤ –∏ —Ç–∞–º–æ–∂–Ω–∏ (CarrierPayment, CustomsPayment)</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 3:</strong> –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ PaymentScheme (—Å—Ç–∞—Ç—É—Å—ã, –≤–µ—Ä—Å–∏–∏, –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 4:</strong> PaymentExecutor —Å–µ—Ä–≤–∏—Å (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ —Å—Ö–µ–º–µ)</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 5:</strong> API Endpoints (create-payment-scheme, update-payment-scheme, execute-payment, payment-scheme, payment-scheme/history)</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 6:</strong> –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DealPolicy (can_create_payment_scheme, can_update_payment_scheme, can_execute_payment)</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 7:</strong> –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 8:</strong> –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞</li>
                        <li>‚úÖ <strong>–≠—Ç–∞–ø 9:</strong> –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (17 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ)</li>
                    </ul>
                </div>
            </section>

            <hr>

            <footer style="text-align: center; color: #97999c; margin-top: 50px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
                <p><strong>Bridge CRM</strong> - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–Ω–¥–µ—Ä–∞–º–∏</p>
                <p>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-XX</p>
            </footer>
        </main>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" -->
    <a href="#intro" class="scroll-top" id="scrollTop">‚Üë</a>

    <script>
        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        const nodeData = {
            'A': {
                title: 'core/ - –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã',
                description: '–ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞',
                details: [
                    'BaseModel - UUID primary key',
                    'TimestampedModel - –ø–æ–ª—è –¥–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è',
                    'BaseTimestampedModel - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è UUID + timestamps'
                ]
            },
            'A1': { title: 'BaseModel', description: '–ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å —Å UUID primary key' },
            'A2': { title: 'BaseTimestampedModel', description: '–ú–æ–¥–µ–ª—å —Å UUID –∏ –ø–æ–ª—è–º–∏ –¥–∞—Ç' },
            'A3': { title: 'TimestampedModel', description: '–ú–æ–¥–µ–ª—å —Å –ø–æ–ª—è–º–∏ –¥–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è' },
            'B': {
                title: 'common/ - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏',
                description: '–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã',
                details: [
                    'Currency - –≤–∞–ª—é—Ç—ã',
                    'Kato - –∫–æ–¥—ã –ö–ê–¢–û',
                    'SubjectType - —Ç–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞–∫—É–ø–∫–∏',
                    'TenderInfo - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤'
                ]
            },
            'B1': { title: 'Currency', description: '–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–∞–ª—é—Ç' },
            'B2': { title: 'Kato', description: '–ö–æ–¥—ã –ö–ê–¢–û (–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)' },
            'B3': { title: 'SubjectType', description: '–¢–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞–∫—É–ø–∫–∏' },
            'B4': { title: 'TenderInfo', description: '–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤' },
            'C': {
                title: 'accounts/ - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏',
                description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏ –≤—Å–µ—Ö —Ä–æ–ª–µ–π',
                details: [
                    'UserProfile - –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å',
                    'CustomerProfile - –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–∫–∞–∑—á–∏–∫–∞',
                    'SupplierProfile - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞',
                    'OperatorKZProfile - –ø—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–ó',
                    'OperatorCNProfile - –ø—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ CN',
                    'CarrierProfile - –ø—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞',
                    'CustomsProfile - –ø—Ä–æ—Ñ–∏–ª—å —Ç–∞–º–æ–∂–Ω–∏'
                ]
            },
            'C1': { title: 'UserProfile', description: '–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π)' },
            'C2': { title: 'CustomerProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –∑–∞–∫–∞–∑—á–∏–∫–∞ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' },
            'C3': { title: 'SupplierProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' },
            'C4': { title: 'OperatorKZProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' },
            'C5': { title: 'OperatorCNProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∏—Ç–∞–π' },
            'C6': { title: 'CarrierProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞' },
            'C7': { title: 'CustomsProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å —Ç–∞–º–æ–∂–Ω–∏' },
            'D': {
                title: 'deals/ - üéØ –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –°–£–©–ù–û–°–¢–¨',
                description: '–°–¥–µ–ª–∫–∏ - –≥–ª–∞–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã',
                details: [
                    'Deal - —Å–¥–µ–ª–∫–∞ –ø–æ –ª–æ—Ç—É',
                    'DealStatusHistory - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤',
                    'PaymentScheme - –ø–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞',
                    'PlatformPaymentReceived - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π',
                    'State Machine - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤',
                    'DealPolicy - –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞'
                ]
            },
            'D1': {
                title: 'Deal - –°–¥–µ–ª–∫–∞',
                description: '–ì–ª–∞–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã. –û–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞',
                details: [
                    '–°–≤—è–∑—å —Å –ª–æ—Ç–æ–º (announce_lot)',
                    '–ó–∞–∫–∞–∑—á–∏–∫ (customer)',
                    '–ü–æ—Å—Ç–∞–≤—â–∏–∫ (supplier)',
                    '–¢—Ä–∏ —Å—Ç–∞—Ç—É—Å–∞: —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π, –≥—Ä—É–∑, –¥–æ–∫—É–º–µ–Ω—Ç—ã',
                    '–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–æ–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤',
                    'State Machine –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤'
                ]
            },
            'D2': { title: 'DealStatusHistory', description: '–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (Event Sourcing –ø–æ–¥—Ö–æ–¥)' },
            'D3': { 
                title: 'PaymentScheme', 
                description: '–ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞ - –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–∂–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏',
                details: [
                    '–ö—Ç–æ –ø–ª–∞—Ç–∏—Ç, –∫–æ–º—É, –∑–∞ —á—Ç–æ, –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ',
                    '–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º',
                    '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ø–ª–∞—Ç–µ–∂–µ–π',
                    '–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π',
                    'PaymentExecutor –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π'
                ]
            },
            'D4': { title: 'PlatformPaymentReceived', description: '–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞' },
            'D5': { title: 'State Machine', description: '–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤' },
            'D6': { 
                title: 'DealPolicy', 
                description: '–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞',
                details: [
                    'can_create_payment_scheme',
                    'can_update_payment_scheme',
                    'can_execute_payment',
                    '–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π'
                ]
            },
            'E': {
                title: 'announces/ - –û–±—ä—è–≤–ª–µ–Ω–∏—è',
                description: '–û–±—ä—è–≤–ª–µ–Ω–∏—è –æ —Ç–µ–Ω–¥–µ—Ä–∞—Ö',
                details: [
                    'Announce - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ —Ç–µ–Ω–¥–µ—Ä–µ',
                    'AnnounceLot - –ª–æ—Ç –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏',
                    'LotFile - —Ñ–∞–π–ª –ª–æ—Ç–∞'
                ]
            },
            'E1': { title: 'Announce', description: '–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ —Ç–µ–Ω–¥–µ—Ä–µ (–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ—Ç–æ–≤)' },
            'E2': { title: 'AnnounceLot', description: '–õ–æ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–æ–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞)' },
            'E3': { title: 'LotFile', description: '–§–∞–π–ª, –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π –∫ –ª–æ—Ç—É' },
            'F': {
                title: 'customers/ - –ó–∞–∫–∞–∑—á–∏–∫–∏',
                description: '–ú–æ–¥—É–ª—å –∑–∞–∫–∞–∑—á–∏–∫–æ–≤',
                details: [
                    'Interest - –∏–Ω—Ç–µ—Ä–µ—Å –∑–∞–∫–∞–∑—á–∏–∫–∞ –∫ –ª–æ—Ç—É',
                    'Order - –∑–∞–∫–∞–∑ (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è Deal)',
                    'OrderItem - –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫–∞–∑–∞'
                ]
            },
            'F1': { title: 'Interest', description: '–ò–Ω—Ç–µ—Ä–µ—Å –∑–∞–∫–∞–∑—á–∏–∫–∞ –∫ –ª–æ—Ç—É (–µ—â—ë –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ)' },
            'F2': { title: 'Order', description: '–ó–∞–∫–∞–∑ –∑–∞–∫–∞–∑—á–∏–∫–∞ (–ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è Deal)' },
            'F3': { title: 'OrderItem', description: '–ü–æ–∑–∏—Ü–∏—è –∑–∞–∫–∞–∑–∞' },
            'G': {
                title: 'suppliers/ - –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏',
                description: '–ú–æ–¥—É–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤',
                details: [
                    'Product - –ø—Ä–æ–¥—É–∫—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞',
                    'Offer - –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ',
                    'OfferAnnounceLot - —Å–≤—è–∑—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ª–æ—Ç–æ–º'
                ]
            },
            'G1': { title: 'Product', description: '–ü—Ä–æ–¥—É–∫—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤)' },
            'G2': { title: 'Offer', description: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (—é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç)' },
            'G3': { title: 'OfferAnnounceLot', description: '–°–≤—è–∑—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ª–æ—Ç–æ–º –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–º' },
            'H': { title: 'operators_kz/', description: '–ú–æ–¥—É–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' },
            'I': { title: 'operators_cn/', description: '–ú–æ–¥—É–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∏—Ç–∞–π' },
            'J': { 
                title: 'carriers/', 
                description: '–ú–æ–¥—É–ª—å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤',
                details: [
                    'CargoTransport - —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≥—Ä—É–∑–∞',
                    'CarrierPayment - –æ–ø–ª–∞—Ç–∞ –∑–∞ –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏'
                ]
            },
            'K': { 
                title: 'customs/', 
                description: '–ú–æ–¥—É–ª—å —Ç–∞–º–æ–∂–Ω–∏',
                details: [
                    'CustomsDeclaration - —Ç–∞–º–æ–∂–µ–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ',
                    'CustomsPayment - –æ–ø–ª–∞—Ç–∞ –∑–∞ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏'
                ]
            },
            'L': {
                title: 'integrations/ - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏',
                description: '–í–Ω–µ—à–Ω–∏–µ API (read-only)',
                details: [
                    'GoszakupService - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ì–æ—Å–ó–∞–∫—É–ø (GraphQL)',
                    'SamrukService - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –°–∞–º—Ä—É–∫ (REST API)',
                    'NationalBankService - –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç (RSS XML)'
                ]
            },
            'L1': { title: 'GoszakupService', description: '–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –ì–æ—Å–ó–∞–∫—É–ø —á–µ—Ä–µ–∑ GraphQL' },
            'L2': { title: 'SamrukService', description: '–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –°–∞–º—Ä—É–∫ —á–µ—Ä–µ–∑ REST' },
            'L3': { title: 'NationalBankService', description: '–°–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –∏–∑ –ù–ë –†–ö' }
        };

        // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –∑–Ω–∞–Ω–∏–π
        const knowledgeTreeData = {
            label: "Bridge CRM",
            level: 0,
            children: [
                {
                    label: "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
                    level: 1,
                    children: [
                        { label: "Deal-—Ü–µ–Ω—Ç—Ä–∏—á–Ω–∞—è", level: 2 },
                        { label: "–ú–æ–¥—É–ª—å–Ω–∞—è Django", level: 2 },
                        { label: "State Machine", level: 2 },
                        { label: "Event Sourcing", level: 2 }
                    ]
                },
                {
                    label: "–ú–æ–¥—É–ª–∏",
                    level: 1,
                    children: [
                        {
                            label: "core",
                            level: 2,
                            children: [
                                { label: "BaseModel", level: 3 },
                                { label: "BaseTimestampedModel", level: 3 },
                                { label: "TimestampedModel", level: 3 }
                            ]
                        },
                        {
                            label: "common",
                            level: 2,
                            children: [
                                { label: "Currency", level: 3 },
                                { label: "Kato", level: 3 },
                                { label: "SubjectType", level: 3 },
                                { label: "TenderInfo", level: 3 }
                            ]
                        },
                        {
                            label: "accounts",
                            level: 2,
                            children: [
                                { label: "UserProfile", level: 3 },
                                { label: "–†–æ–ª–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π", level: 3 }
                            ]
                        },
                        {
                            label: "deals",
                            level: 2,
                            children: [
                                { label: "Deal", level: 3 },
                                { label: "DealStatusHistory", level: 3 },
                                {
                                    label: "PaymentScheme",
                                    level: 3,
                                    children: [
                                        { label: "–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞", level: 4 },
                                        { label: "–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", level: 4 },
                                        { label: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏", level: 4 }
                                    ]
                                },
                                { label: "State Machine", level: 3 },
                                { label: "DealPolicy", level: 3 },
                                { label: "PaymentExecutor", level: 3 }
                            ]
                        },
                        {
                            label: "customers",
                            level: 2,
                            children: [
                                { label: "Interest", level: 3 },
                                { label: "Order", level: 3 }
                            ]
                        },
                        {
                            label: "suppliers",
                            level: 2,
                            children: [
                                { label: "Product", level: 3 },
                                { label: "Offer", level: 3 }
                            ]
                        },
                        {
                            label: "operators_kz",
                            level: 2,
                            children: [
                                { label: "PlatformToOperatorTransfer", level: 3 },
                                { label: "OperatorKZFundsReceived", level: 3 }
                            ]
                        },
                        {
                            label: "operators_cn",
                            level: 2,
                            children: [
                                { label: "SupplierPayment", level: 3 },
                                { label: "OperatorCNFundsReceived", level: 3 }
                            ]
                        },
                        {
                            label: "carriers",
                            level: 2,
                            children: [
                                { label: "CargoTransport", level: 3 },
                                { label: "CarrierPayment", level: 3 }
                            ]
                        },
                        {
                            label: "customs",
                            level: 2,
                            children: [
                                { label: "CustomsDeclaration", level: 3 },
                                { label: "CustomsPayment", level: 3 }
                            ]
                        },
                        {
                            label: "integrations",
                            level: 2,
                            children: [
                                { label: "–ì–æ—Å–ó–∞–∫—É–ø", level: 3 },
                                { label: "–°–∞–º—Ä—É–∫", level: 3 },
                                { label: "–ù–ë –†–ö", level: 3 }
                            ]
                        }
                    ]
                },
                {
                    label: "–†–æ–ª–∏",
                    level: 1,
                    children: [
                        {
                            label: "–ó–∞–∫–∞–∑—á–∏–∫",
                            level: 2,
                            children: [
                                { label: "–°–æ–∑–¥–∞–Ω–∏–µ Order", level: 3 },
                                { label: "–í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞", level: 3 },
                                { label: "–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã", level: 3 }
                            ]
                        },
                        {
                            label: "–ü–æ—Å—Ç–∞–≤—â–∏–∫",
                            level: 2,
                            children: [
                                { label: "–°–æ–∑–¥–∞–Ω–∏–µ Offer", level: 3 },
                                { label: "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã", level: 3 },
                                { label: "–ü–µ—Ä–µ–¥–∞—á–∞ –≥—Ä—É–∑–∞", level: 3 }
                            ]
                        },
                        {
                            label: "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞",
                            level: 2,
                            children: [
                                { label: "–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã", level: 3 },
                                { label: "–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤", level: 3 },
                                { label: "–ü–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º", level: 3 },
                                { label: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏", level: 3 },
                                { label: "–û–ø–ª–∞—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –∏ —Ç–∞–º–æ–∂–Ω–∏", level: 3 },
                                { label: "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ —Å—Ö–µ–º–µ", level: 3 }
                            ]
                        },
                        {
                            label: "–û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó",
                            level: 2,
                            children: [
                                { label: "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤", level: 3 },
                                { label: "–ü–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É CN", level: 3 },
                                { label: "–û–ø–ª–∞—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏", level: 3 },
                                { label: "–û–ø–ª–∞—Ç–∞ —Ç–∞–º–æ–∂–Ω–∏", level: 3 }
                            ]
                        },
                        {
                            label: "–û–ø–µ—Ä–∞—Ç–æ—Ä CN",
                            level: 2,
                            children: [
                                { label: "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤", level: 3 },
                                { label: "–û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ CN", level: 3 },
                                { label: "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫—Ç–æ –º–æ–∂–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞", level: 3 }
                            ]
                        },
                        {
                            label: "–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫",
                            level: 2,
                            children: [
                                { label: "–ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä—É–∑–∞", level: 3 },
                                { label: "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞", level: 3 },
                                { label: "–î–æ—Å—Ç–∞–≤–∫–∞", level: 3 },
                                { label: "–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –∑–∞ –ª–æ–≥–∏—Å—Ç–∏–∫—É", level: 3 }
                            ]
                        },
                        {
                            label: "–¢–∞–º–æ–∂–Ω—è",
                            level: 2,
                            children: [
                                { label: "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≥—Ä—É–∑–∞", level: 3 },
                                { label: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤", level: 3 },
                                { label: "–í—ã–ø—É—Å–∫ –≥—Ä—É–∑–∞", level: 3 },
                                { label: "–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –∑–∞ —É—Å–ª—É–≥–∏", level: 3 }
                            ]
                        }
                    ]
                },
                {
                    label: "–°—Ç–∞—Ç—É—Å—ã",
                    level: 1,
                    children: [
                        {
                            label: "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π",
                            level: 2,
                            children: [
                                { label: "PENDING", level: 3 },
                                { label: "PAYMENT_INITIATED", level: 3 },
                                { label: "PAYMENT_RECEIVED", level: 3 },
                                { label: "FUNDS_TRANSFERRED", level: 3 },
                                { label: "OPERATOR_CN_FUNDS_RECEIVED", level: 3 },
                                { label: "SUPPLIER_PAID", level: 3 },
                                { label: "COMPLETED", level: 3 }
                            ]
                        },
                        {
                            label: "–ì—Ä—É–∑",
                            level: 2,
                            children: [
                                { label: "NOT_STARTED", level: 3 },
                                { label: "CARGO_TRANSFERRED", level: 3 },
                                { label: "IN_TRANSIT", level: 3 },
                                { label: "AT_CUSTOMS", level: 3 },
                                { label: "CUSTOMS_CLEARED", level: 3 },
                                { label: "DELIVERED", level: 3 }
                            ]
                        },
                        {
                            label: "–î–æ–∫—É–º–µ–Ω—Ç—ã",
                            level: 2,
                            children: [
                                { label: "PENDING", level: 3 },
                                { label: "SUBMITTED", level: 3 },
                                { label: "UNDER_REVIEW", level: 3 },
                                { label: "CORRIDOR_ASSIGNED", level: 3 },
                                { label: "CLEARED", level: 3 },
                                { label: "REJECTED", level: 3 }
                            ]
                        }
                    ]
                },
                {
                    label: "API",
                    level: 1,
                    children: [
                        {
                            label: "DealViewSet",
                            level: 2,
                            children: [
                                { label: "create", level: 3 },
                                { label: "list", level: 3 },
                                { label: "retrieve", level: 3 },
                                { label: "submit-offer", level: 3 },
                                { label: "select-supplier", level: 3 },
                                { label: "initiate-payment", level: 3 },
                                { label: "confirm-payment", level: 3 },
                                { label: "transfer-funds", level: 3 },
                                { label: "create-payment-scheme", level: 3 },
                                { label: "update-payment-scheme", level: 3 },
                                { label: "execute-payment", level: 3 },
                                { label: "payment-scheme", level: 3 },
                                { label: "payment-scheme/history", level: 3 },
                                { label: "accept-cargo", level: 3 },
                                { label: "deliver-to-customs", level: 3 },
                                { label: "process-customs", level: 3 },
                                { label: "complete", level: 3 }
                            ]
                        }
                    ]
                },
                {
                    label: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
                    level: 1,
                    children: [
                        {
                            label: "Permissions",
                            level: 2,
                            children: [
                                { label: "View-level", level: 3 },
                                { label: "Object-level", level: 3 }
                            ]
                        },
                        {
                            label: "DealPolicy",
                            level: 2,
                            children: [
                                { label: "–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏", level: 3 }
                            ]
                        },
                        {
                            label: "–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–æ–ª—è",
                            level: 2,
                            children: [
                                { label: "_financial_status", level: 3 },
                                { label: "_cargo_status", level: 3 },
                                { label: "_document_status", level: 3 }
                            ]
                        }
                    ]
                },
                {
                    label: "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏",
                    level: 1,
                    children: [
                        {
                            label: "–ì–æ—Å–ó–∞–∫—É–ø",
                            level: 2,
                            children: [
                                { label: "GraphQL API", level: 3 },
                                { label: "–ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è", level: 3 }
                            ]
                        },
                        {
                            label: "–°–∞–º—Ä—É–∫",
                            level: 2,
                            children: [
                                { label: "REST API", level: 3 },
                                { label: "–ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è", level: 3 }
                            ]
                        },
                        {
                            label: "–ù–ë –†–ö",
                            level: 2,
                            children: [
                                { label: "RSS XML", level: 3 },
                                { label: "–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç", level: 3 }
                            ]
                        },
                        {
                            label: "NCANode",
                            level: 2,
                            children: [
                                { label: "–≠–¶–ü", level: 3 },
                                { label: "–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è", level: 3 }
                            ]
                        }
                    ]
                }
            ]
        };

        // –û–°–ù–û–í–ù–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Mermaid...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∂–µ–Ω –ª–∏ Mermaid
            if (typeof mermaid === 'undefined') {
                console.error('Mermaid –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                document.querySelectorAll('.mermaid').forEach(el => {
                    el.innerHTML = '<div class="mermaid-error">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–∏–∞–≥—Ä–∞–º–º –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</div>';
                });
                return;
            }
            
            console.log('Mermaid –≤–µ—Ä—Å–∏—è:', mermaid.version || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Mermaid —Å —è–≤–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
            try {
                mermaid.initialize({ 
                    startOnLoad: true,
                    theme: 'default',
                    securityLevel: 'loose',
                    themeVariables: {
                        primaryColor: '#0095ff',
                        primaryTextColor: '#000',
                        primaryBorderColor: '#0077cc',
                        lineColor: '#0095ff',
                        secondaryColor: '#e8f4fd',
                        tertiaryColor: '#fafafa',
                        fontSize: '16px'
                    },
                    flowchart: {
                        useMaxWidth: true,
                        htmlLabels: true,
                        curve: 'basis'
                    },
                    sequence: {
                        useMaxWidth: true,
                        height: 40,
                        actorFontSize: 16,
                        noteFontSize: 14,
                        messageFontSize: 16
                    },
                    state: {
                        useMaxWidth: true,
                        height: 40,
                        fontSize: 16
                    },
                    mindmap: {
                        useMaxWidth: true
                    }
                });
                
                console.log('Mermaid —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Å–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
                initMermaidDiagrams();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Mermaid:', error);
                document.querySelectorAll('.mermaid').forEach(el => {
                    el.innerHTML = '<div class="mermaid-error">–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ (F12).</div>';
                });
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é
            updateNavigation();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–≤–µ—Ä—Ö"
            initScrollTopButton();
        });
        
        // –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –†–ï–ù–î–ï–†–ò–ù–ì–ê –î–ò–ê–ì–†–ê–ú–ú
function initMermaidDiagrams() {
    console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º Mermaid...');
    
    // –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –±–ª–æ–∫–∏ —Å –∫–ª–∞—Å—Å–æ–º mermaid
    const mermaidElements = document.querySelectorAll('.mermaid:not([data-processed="true"])');
    console.log('–ù–∞–π–¥–µ–Ω–æ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ mermaid:', mermaidElements.length);
    
    mermaidElements.forEach((element, index) => {
        try {
            // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç –¥–∏–∞–≥—Ä–∞–º–º—ã
            const diagramText = element.textContent.trim();
            
            if (!diagramText) {
                console.warn(`–î–∏–∞–≥—Ä–∞–º–º–∞ ${index + 1} –ø—É—Å—Ç–∞`);
                return;
            }
            
            console.log(`–†–µ–Ω–¥–µ—Ä–∏–º –¥–∏–∞–≥—Ä–∞–º–º—É ${index + 1}, —Ç–∏–ø:`, diagramText.split('\n')[0]);
            
            // –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            const originalHTML = element.innerHTML;
            element.innerHTML = '<div class="mermaid-loading">–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–∏–∞–≥—Ä–∞–º–º—ã...</div>';
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º—ã
            const diagramId = 'mermaid-diagram-' + index + '-' + Date.now();
            
            // –†–µ–Ω–¥–µ—Ä–∏–º –¥–∏–∞–≥—Ä–∞–º–º—É - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
            mermaid.render(diagramId, diagramText).then(({ svg, bindFunctions }) => {
                // –ó–∞–º–µ–Ω—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—É—é SVG
                element.innerHTML = svg;
                element.setAttribute('data-processed', 'true');
                
                // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–≤—è–∑–∫–∏
                if (bindFunctions) {
                    bindFunctions(element);
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —É–≤–µ–ª–∏—á–µ–Ω–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∏–∞–≥—Ä–∞–º–º
                if (element.closest('.mermaid-container') || index === 0) {
                    addZoomButton(element, index, diagramText);
                }
                
                console.log(`–î–∏–∞–≥—Ä–∞–º–º–∞ ${index + 1} —É—Å–ø–µ—à–Ω–æ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–∞`);
            }).catch(error => {
                throw error;
            });
            
        } catch (error) {
            console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –¥–∏–∞–≥—Ä–∞–º–º—ã ${index + 1}:`, error);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
            element.innerHTML = `
                <div class="mermaid-error">
                    <p><strong>–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º—ã ${index + 1}</strong></p>
                    <p>${error.message}</p>
                    <details style="margin-top: 10px;">
                        <summary>–ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</summary>
                        <pre style="background: #fff; padding: 10px; border: 1px solid #ddd; margin-top: 10px; overflow: auto; font-size: 12px; max-height: 200px;">${element.textContent}</pre>
                    </details>
                </div>
            `;
        }
    });
}
        
        // –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ö–ù–û–ü–ö–ò –£–í–ï–õ–ò–ß–ï–ù–ò–Ø
        function addZoomButton(diagramElement, index, diagramText) {
            const container = diagramElement.closest('.mindmap-container') || diagramElement.closest('.mermaid-container') || diagramElement.parentElement;
            
            if (!container) return;
            
            const button = document.createElement('button');
            button.className = 'mermaid-zoom-btn';
            button.textContent = 'üîç –£–≤–µ–ª–∏—á–∏—Ç—å';
            button.onclick = function(e) {
                e.stopPropagation();
                openDiagramModal(index, diagramText);
            };
            
            // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
            container.style.position = 'relative';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –∫–Ω–æ–ø–∫–∞
            if (!container.querySelector('.mermaid-zoom-btn')) {
                container.appendChild(button);
            }
        }
        
        // –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê –° –î–ò–ê–ì–†–ê–ú–ú–û–ô
function openDiagramModal(index, diagramText) {
    const modal = document.createElement('div');
    modal.className = 'modal active';
    modal.id = 'diagramModal-' + index;
    
    modal.innerHTML = `
        <div class="modal-content" style="max-width: 90vw; max-height: 90vh; overflow: auto; background: #fff;">
            <button class="modal-close" onclick="closeDiagramModal(${index})">√ó</button>
            <div style="margin-bottom: 20px; text-align: center;">
                <button onclick="zoomDiagramIn(${index})" style="margin: 0 5px; padding: 8px 15px; background: #0095ff; color: white; border: none; border-radius: 5px; cursor: pointer;">+ –£–≤–µ–ª–∏—á–∏—Ç—å</button>
                <button onclick="zoomDiagramOut(${index})" style="margin: 0 5px; padding: 8px 15px; background: #0095ff; color: white; border: none; border-radius: 5px; cursor: pointer;">- –£–º–µ–Ω—å—à–∏—Ç—å</button>
                <button onclick="resetDiagramZoom(${index})" style="margin: 0 5px; padding: 8px 15px; background: #0095ff; color: white; border: none; border-radius: 5px; cursor: pointer;">‚ü≥ –°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
            <div class="mermaid" id="modal-diagram-${index}" style="background: white; padding: 20px; border-radius: 10px;">${diagramText}</div>
        </div>
    `;
    
    document.body.appendChild(modal);
    document.body.style.overflow = 'hidden';
    
    // –†–µ–Ω–¥–µ—Ä–∏–º –¥–∏–∞–≥—Ä–∞–º–º—É –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
    setTimeout(() => {
        const modalDiagram = document.getElementById('modal-diagram-' + index);
        if (modalDiagram && diagramText) {
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º mermaid.run –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
                mermaid.run({
                    querySelector: `#modal-diagram-${index}`,
                    suppressErrors: false
                }).then(() => {
                    const svg = modalDiagram.querySelector('svg');
                    if (svg) {
                        svg.dataset.originalTransform = 'scale(1)';
                        svg.style.transform = 'scale(1)';
                        svg.style.transformOrigin = 'center center';
                        svg.style.transition = 'transform 0.3s ease';
                    }
                }).catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ:', error);
                    modalDiagram.innerHTML = `<div class="mermaid-error">${error.message}</div>`;
                });
            } catch (error) {
                console.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', error);
                modalDiagram.innerHTML = `<div class="mermaid-error">${error.message}</div>`;
            }
        }
    }, 100);
}
        
        // –§–£–ù–ö–¶–ò–ò –î–õ–Ø –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ó–£–ú–û–ú (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ)
        window.zoomDiagramIn = function(index) {
            const svg = document.querySelector(`#modal-diagram-${index} svg`);
            if (svg) {
                const currentScale = parseFloat(svg.style.transform.replace('scale(', '').replace(')', '')) || 1;
                svg.style.transform = `scale(${currentScale * 1.2})`;
            }
        };
        
        window.zoomDiagramOut = function(index) {
            const svg = document.querySelector(`#modal-diagram-${index} svg`);
            if (svg) {
                const currentScale = parseFloat(svg.style.transform.replace('scale(', '').replace(')', '')) || 1;
                svg.style.transform = `scale(${Math.max(0.5, currentScale / 1.2)})`;
            }
        };
        
        window.resetDiagramZoom = function(index) {
            const svg = document.querySelector(`#modal-diagram-${index} svg`);
            if (svg) {
                svg.style.transform = 'scale(1)';
            }
        };
        
        window.closeDiagramModal = function(index) {
            const modal = document.getElementById('diagramModal-' + index);
            if (modal) {
                modal.remove();
            }
            document.body.style.overflow = 'auto';
        };
        
        // –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ù–ê–í–ò–ì–ê–¶–ò–ò
        function updateNavigation() {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-menu a[href^="#"]');
            
            function updateActiveNav() {
                let current = '';
                const scrollPosition = window.scrollY + 100;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    
                    if (scrollPosition >= sectionTop) {
                        current = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active');
                    }
                });
            }
            
            window.addEventListener('scroll', updateActiveNav);
            updateActiveNav();
        }
        
        // –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ö–ù–û–ü–ö–ò "–ù–ê–í–ï–†–•"
        function initScrollTopButton() {
            const scrollTopBtn = document.getElementById('scrollTop');
            if (!scrollTopBtn) return;
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollTopBtn.classList.add('visible');
                } else {
                    scrollTopBtn.classList.remove('visible');
                }
            });
            
            scrollTopBtn.addEventListener('click', (e) => {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
        
        // –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ú–ï–ù–¢–ê–õ–¨–ù–û–ô –ö–ê–†–¢–´ (–î–ï–†–ï–í–ê –ó–ù–ê–ù–ò–ô)
        function openMindMapModal() {
            const modal = document.getElementById('mindmapModal');
            if (!modal) return;
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–µ—Ä–µ–≤–æ –∑–Ω–∞–Ω–∏–π
            setTimeout(() => {
                const treeContainer = document.getElementById('knowledgeTree');
                if (treeContainer && !treeContainer.hasChildNodes()) {
                    renderKnowledgeTree(knowledgeTreeData, treeContainer, 0);
                    updateTreeStats();
                    expandFirstLevel();
                }
            }, 100);
        }
        
        function closeMindMapModal() {
            const modal = document.getElementById('mindmapModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–µ—Ä–µ–≤–∞ –∑–Ω–∞–Ω–∏–π
        function renderKnowledgeTree(node, container, level = 0) {
            const nodeElement = document.createElement('div');
            nodeElement.className = `tree-node level-${level} ${node.children && node.children.length > 0 ? '' : 'leaf'}`;
            
            const content = document.createElement('div');
            content.className = 'tree-node-content';
            
            const toggle = document.createElement('span');
            toggle.className = 'tree-toggle';
            
            const label = document.createElement('span');
            label.className = 'tree-label';
            label.textContent = node.label;
            
            content.appendChild(toggle);
            content.appendChild(label);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è
            if (node.children && node.children.length > 0) {
                content.addEventListener('click', function(e) {
                    e.stopPropagation();
                    nodeElement.classList.toggle('expanded');
                    updateTreeStats();
                });
            }
            
            nodeElement.appendChild(content);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            if (node.children && node.children.length > 0) {
                const childrenContainer = document.createElement('div');
                childrenContainer.className = 'tree-children';
                
                node.children.forEach(child => {
                    renderKnowledgeTree(child, childrenContainer, level + 1);
                });
                
                nodeElement.appendChild(childrenContainer);
            }
            
            container.appendChild(nodeElement);
        }
        
        function expandAllTree() {
            document.querySelectorAll('.tree-node').forEach(node => {
                if (node.querySelector('.tree-children')) {
                    node.classList.add('expanded');
                }
            });
            updateTreeStats();
        }
        
        function collapseAllTree() {
            document.querySelectorAll('.tree-node').forEach(node => {
                node.classList.remove('expanded');
            });
            updateTreeStats();
        }
        
        function expandFirstLevel() {
            collapseAllTree();
            const tree = document.getElementById('knowledgeTree');
            if (tree) {
                const firstLevelNodes = tree.querySelectorAll('.tree-node.level-0 > .tree-children > .tree-node');
                firstLevelNodes.forEach(node => {
                    node.classList.add('expanded');
                });
            }
            updateTreeStats();
        }
        
        function searchTree(query) {
            const searchTerm = query.toLowerCase().trim();
            const allNodes = document.querySelectorAll('.tree-node');
            let visibleCount = 0;
            let totalCount = allNodes.length;
            
            if (!searchTerm) {
                allNodes.forEach(node => {
                    node.classList.remove('hidden', 'highlighted');
                    visibleCount++;
                });
            } else {
                allNodes.forEach(node => {
                    const label = node.querySelector('.tree-label');
                    if (label && label.textContent.toLowerCase().includes(searchTerm)) {
                        node.classList.remove('hidden');
                        node.classList.add('highlighted');
                        visibleCount++;
                        
                        // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–æ–¥–∏—Ç–µ–ª–µ–π
                        let parent = node.parentElement;
                        while (parent && parent.classList.contains('tree-children')) {
                            parent.classList.remove('hidden');
                            const parentNode = parent.previousElementSibling;
                            if (parentNode && parentNode.classList.contains('tree-node-content')) {
                                const grandParent = parentNode.closest('.tree-node');
                                if (grandParent) {
                                    grandParent.classList.remove('hidden');
                                    grandParent.classList.add('expanded');
                                    visibleCount++;
                                }
                            }
                            parent = parent.parentElement;
                        }
                    } else {
                        node.classList.add('hidden');
                        node.classList.remove('highlighted');
                    }
                });
            }
            
            updateTreeStats(visibleCount, totalCount);
        }
        
        function updateTreeStats(visible = null, total = null) {
            const statsEl = document.getElementById('treeStats');
            if (!statsEl) return;
            
            if (visible === null || total === null) {
                const allNodes = document.querySelectorAll('.tree-node');
                const visibleNodes = Array.from(allNodes).filter(node => !node.classList.contains('hidden'));
                visible = visibleNodes.length;
                total = allNodes.length;
            }
            
            const totalNodesSpan = document.getElementById('totalNodes');
            const visibleNodesSpan = document.getElementById('visibleNodes');
            
            if (totalNodesSpan) totalNodesSpan.textContent = total;
            if (visibleNodesSpan) visibleNodesSpan.textContent = visible;
        }
        
        // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –¥–ª—è HTML –∫–Ω–æ–ø–æ–∫
        window.expandAllTree = expandAllTree;
        window.collapseAllTree = collapseAllTree;
        window.expandFirstLevel = expandFirstLevel;
        window.searchTree = searchTree;
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const modals = document.querySelectorAll('.modal.active');
                modals.forEach(modal => {
                    modal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–ª–∏–∫–∞ –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
        
        // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        document.querySelectorAll('.nav-menu a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId.startsWith('#')) {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Å—Å—ã–ª–∫—É
                        document.querySelectorAll('.nav-menu a').forEach(a => a.classList.remove('active'));
                        this.classList.add('active');
                    }
                }
            });
        });
    </script>
</body>

</html>