<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bridge CRM - –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            padding: 0;
            margin: 0;
            border: 0;
            box-sizing: border-box;
        }

        *:before,
        *:after {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            width: 100%;
            font-family: "Play", sans-serif;
            background: #fff;
            color: #000;
            scroll-behavior: smooth;
        }

        .wrapper {
            display: flex;
            min-height: 100vh;
        }

        /* –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .sidebar {
            width: 300px;
            background: #fafafa;
            border-right: 1px solid #e0e0e0;
            padding: 30px 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #0095ff;
        }

        .sidebar-header h1 {
            font-size: 24px;
            font-weight: 700;
            color: #0095ff;
            margin-bottom: 5px;
        }

        .sidebar-header .subtitle {
            font-size: 12px;
            color: #97999c;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 5px;
        }

        .nav-menu a {
            display: block;
            padding: 10px 15px;
            color: #000;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .nav-menu a:hover {
            background: #e8f4fd;
            color: #0095ff;
        }

        .nav-menu a.active {
            background: #0095ff;
            color: #fff;
        }

        .nav-menu .nav-section {
            font-weight: 700;
            color: #0095ff;
            margin-top: 15px;
            margin-bottom: 8px;
            padding: 0 15px;
            font-size: 12px;
            text-transform: uppercase;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            flex: 1;
            margin-left: 300px;
            padding: 40px 60px;
            max-width: 1200px;
        }

        .header {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #0095ff;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 700;
            background: linear-gradient(135deg, #0095ff 0%, #000 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .header .meta {
            font-size: 14px;
            color: #97999c;
            margin-top: 10px;
        }

        /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
        h2 {
            font-size: 32px;
            font-weight: 700;
            color: #000;
            margin-top: 50px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #0095ff;
        }

        h3 {
            font-size: 24px;
            font-weight: 700;
            color: #000;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h4 {
            font-size: 20px;
            font-weight: 700;
            color: #000;
            margin-top: 25px;
            margin-bottom: 12px;
        }

        p {
            font-size: 16px;
            line-height: 1.6;
            color: #000;
            margin-bottom: 15px;
        }

        ul,
        ol {
            margin-bottom: 20px;
            padding-left: 30px;
        }

        li {
            font-size: 16px;
            line-height: 1.6;
            color: #000;
            margin-bottom: 8px;
        }

        ul li {
            list-style: none;
            position: relative;
            padding-left: 25px;
        }

        ul li::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #0095ff;
            font-weight: 700;
            font-size: 1.5em;
        }

        ol li {
            list-style: decimal;
        }

        /* –ë–ª–æ–∫–∏ –∫–æ–¥–∞ */
        pre {
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-left: 4px solid #0095ff;
            border-radius: 5px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
        }

        code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #333;
        }

        pre code {
            color: #000;
        }

        /* –í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ */
        .highlight-box {
            background: linear-gradient(135deg, #0095ff 0%, #0077cc 100%);
            color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box h3,
        .highlight-box h4,
        .highlight-box p,
        .highlight-box li {
            color: #fff;
        }

        .highlight-box ul li::before {
            color: #fff;
        }

        .info-box {
            background: #e8f4fd;
            border-left: 4px solid #0095ff;
            border-radius: 5px;
            padding: 15px 20px;
            margin: 20px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 5px;
            padding: 15px 20px;
            margin: 20px 0;
        }

        /* –¢–∞–±–ª–∏—Ü—ã */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table th,
        table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        table th {
            background: #f5f5f5;
            font-weight: 700;
            color: #0095ff;
        }

        table tr:hover {
            background: #f9f9f9;
        }

        /* Mermaid –¥–∏–∞–≥—Ä–∞–º–º—ã */
        .mermaid {
            margin: 30px 0;
            text-align: center;
            background: #fafafa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: auto;
            min-height: 500px;
            width: 100%;
            display: block;
        }

        .mermaid svg {
            max-width: 100%;
            height: auto !important;
            overflow: visible;
            display: block;
            margin: 0 auto;
        }

        /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ SVG –≤–∏–¥–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é */
        .mermaid[data-processed="true"] {
            min-height: auto;
        }

        /* –£–ª—É—á—à–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 768px) {
            .mermaid {
                min-height: 300px;
                padding: 15px;
                overflow-x: auto;
                overflow-y: visible;
            }
        }

        .mermaid:hover {
            border-color: #0095ff;
            box-shadow: 0 5px 15px rgba(0, 149, 255, 0.2);
        }

        .mermaid-container {
            position: relative;
            width: 100%;
            overflow: auto;
            margin-bottom: 30px;
            background: #fafafa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #e0e0e0;
        }

        .mermaid-container .mermaid {
            margin: 0;
            background: transparent;
            border: none;
            padding: 0;
        }

        .mermaid-zoom-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #0095ff;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 700;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .mermaid-zoom-btn:hover {
            background: #0077cc;
            transform: scale(1.05);
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            max-width: 95vw;
            max-height: 95vh;
            overflow: auto;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #0095ff;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10001;
        }

        .modal-close:hover {
            background: #0077cc;
            transform: rotate(90deg);
        }

        .modal .mermaid {
            min-width: 1100px;
            min-height: 900px;
            cursor: default;
            width: 100%;
            overflow: auto;
            display: block;
            position: relative;
            padding: 40px;
        }

        .modal .mermaid svg {
            width: 100% !important;
            height: auto !important;
            max-width: none;
            overflow: visible;
            display: block;
            min-width: 1000px;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
        .mermaid-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            color: #0095ff;
            font-size: 18px;
        }

        .mermaid-loading::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        .mermaid-error {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            color: #856404;
            text-align: center;
        }

        /* –ö–æ–Ω—Ç—Ä–æ–ª—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è */
        .diagram-controls {
            position: absolute;
            top: 15px;
            right: 60px;
            display: flex;
            gap: 10px;
            z-index: 10001;
        }

        .diagram-controls button {
            background: #0095ff;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .diagram-controls button:hover {
            background: #0077cc;
        }

        @media (max-width: 1400px) {
            .modal .mermaid {
                min-width: 100%;
                min-height: 700px;
            }
            
            .modal-content {
                min-width: 95vw;
            }
        }

        .modal-content {
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            max-width: 98vw;
            max-height: 98vh;
            overflow: auto;
            position: relative;
            animation: slideIn 0.3s ease;
            width: auto;
            min-width: 1200px;
        }

        @media (max-width: 1400px) {
            .modal-content {
                min-width: 95vw;
            }
        }

        /* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–∏–∞–≥—Ä–∞–º–º—ã */
        .mermaid svg .node rect,
        .mermaid svg .node circle,
        .mermaid svg .node ellipse,
        .mermaid svg .node polygon {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mermaid svg .node rect:hover,
        .mermaid svg .node circle:hover,
        .mermaid svg .node ellipse:hover,
        .mermaid svg .node polygon:hover {
            fill: #e8f4fd !important;
            stroke: #0095ff !important;
            stroke-width: 3px !important;
            filter: drop-shadow(0 0 8px rgba(0, 149, 255, 0.5));
        }

        .mermaid svg .node.expanded rect,
        .mermaid svg .node.expanded circle,
        .mermaid svg .node.expanded ellipse,
        .mermaid svg .node.expanded polygon {
            fill: #0095ff !important;
            stroke: #0077cc !important;
            stroke-width: 3px !important;
        }

        .mermaid svg .node.expanded .nodeLabel {
            fill: #fff !important;
            font-weight: 700;
        }

        .mermaid svg .edgePath path {
            transition: all 0.3s ease;
        }

        .mermaid svg .edgePath.highlighted path {
            stroke: #0095ff !important;
            stroke-width: 3px !important;
        }

        .mermaid svg .edgePath.highlighted .arrowheadPath {
            fill: #0095ff !important;
        }

        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .node-info {
            position: fixed;
            background: #fff;
            border: 2px solid #0095ff;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            max-width: 350px;
            z-index: 10002;
            display: none;
            pointer-events: none;
        }

        .node-info.active {
            display: block;
            animation: slideIn 0.2s ease;
            pointer-events: auto;
        }

        .node-info h4 {
            color: #0095ff;
            margin-bottom: 10px;
            font-size: 18px;
            border-bottom: 2px solid #e8f4fd;
            padding-bottom: 8px;
        }

        .node-info p {
            font-size: 14px;
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .node-info ul {
            margin-top: 10px;
            padding-left: 20px;
        }

        .node-info li {
            font-size: 13px;
            margin-bottom: 5px;
            line-height: 1.4;
        }

        .node-info .close-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: transparent;
            border: none;
            color: #0095ff;
            font-size: 20px;
            cursor: pointer;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .node-info .close-btn:hover {
            background: #e8f4fd;
        }

        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            margin-bottom: 50px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .section-title::before {
            content: "";
            width: 4px;
            height: 30px;
            background: #0095ff;
            border-radius: 2px;
        }

        /* –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #0095ff;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
            font-size: 24px;
            text-decoration: none;
        }

        .scroll-top.visible {
            opacity: 1;
        }

        .scroll-top:hover {
            background: #0077cc;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1024px) {
            .sidebar {
                width: 250px;
            }

            .content {
                margin-left: 250px;
                padding: 30px 40px;
            }
        }

        @media (max-width: 768px) {
            .wrapper {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }

            .content {
                margin-left: 0;
                padding: 20px;
            }

            .header h1 {
                font-size: 28px;
            }

            h2 {
                font-size: 24px;
            }

            h3 {
                font-size: 20px;
            }
        }

        /* –≠–º–æ–¥–∑–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö */
        h2::before {
            margin-right: 10px;
        }

        /* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ */
        hr {
            border: none;
            border-top: 2px solid #e0e0e0;
            margin: 40px 0;
        }

        /* –°—Å—ã–ª–∫–∏ */
        a {
            color: #0095ff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* –ë–ª–æ–∫–∏ —Å –∫–æ–¥–æ–º Python/JSON */
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            border-radius: 5px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
        }

        .code-block code {
            color: #f8f8f2;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>Bridge CRM</h1>
                <div class="subtitle">–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑</div>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-section">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</li>
                    <li><a href="#intro">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
                    <li><a href="#architecture">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</a></li>
                    <li><a href="#business-processes">–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã</a></li>
                    <li><a href="#platform-workflow">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</a></li>
                    <li><a href="#roles">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–π</a></li>
                    <li><a href="#technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a></li>
                    <li><a href="#integrations">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</a></li>
                    <li><a href="#security">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></li>
                    <li><a href="#diagrams">–î–∏–∞–≥—Ä–∞–º–º—ã</a></li>
                    <li><a href="#conclusions">–í—ã–≤–æ–¥—ã</a></li>
                </ul>
            </nav>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="content">
            <div class="header" id="intro">
                <h1>–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ Bridge CRM</h1>
                <div class="meta">
                    <strong>–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:</strong> 2.0 (Django)<br>
                    <strong>–°—Ç–∞—Ç—É—Å:</strong> –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ<br>
                    <strong>–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:</strong> 2025-01-XX
                </div>
            </div>

            <section class="section" id="architecture">
                <h2>üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                
                <h3>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è</h3>
                <p>–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>–º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Django</strong> —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:</p>
                
                <pre><code>bridge_crm_django/
‚îú‚îÄ‚îÄ core/              # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (BaseModel, BaseTimestampedModel)
‚îú‚îÄ‚îÄ common/            # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (Currency, Kato, SubjectType)
‚îú‚îÄ‚îÄ accounts/         # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏ (UserProfile, —Ä–æ–ª–∏)
‚îú‚îÄ‚îÄ announces/        # –û–±—ä—è–≤–ª–µ–Ω–∏—è –æ —Ç–µ–Ω–¥–µ—Ä–∞—Ö (Announce, AnnounceLot)
‚îú‚îÄ‚îÄ deals/            # üéØ –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –°–£–©–ù–û–°–¢–¨ - –°–¥–µ–ª–∫–∏
‚îú‚îÄ‚îÄ customers/         # –ó–∞–∫–∞–∑—á–∏–∫–∏ (Interest, Order)
‚îú‚îÄ‚îÄ suppliers/         # –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ (Product, Offer)
‚îú‚îÄ‚îÄ operators_kz/      # –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω
‚îú‚îÄ‚îÄ operators_cn/      # –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–∏—Ç–∞–π
‚îú‚îÄ‚îÄ carriers/          # –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏
‚îú‚îÄ‚îÄ customs/           # –¢–∞–º–æ–∂–Ω—è
‚îú‚îÄ‚îÄ integrations/      # –í–Ω–µ—à–Ω–∏–µ API (read-only)
‚îî‚îÄ‚îÄ tenders/           # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (legacy)</code></pre>

                <h3>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</h3>
                <ul>
                    <li><strong>Deal-—Ü–µ–Ω—Ç—Ä–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</strong> - –≤—Å–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –≤—Ä–∞—â–∞—é—Ç—Å—è –≤–æ–∫—Ä—É–≥ –º–æ–¥–µ–ª–∏ <code>Deal</code></li>
                    <li><strong>–û–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞</strong> - —Å—Ç—Ä–æ–≥–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Å–∏—Å—Ç–µ–º—ã</li>
                    <li><strong>State Machine</strong> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —á–µ—Ä–µ–∑ –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç</li>
                    <li><strong>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong> - –∫–∞–∂–¥–∞—è —Ä–æ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–π –º–æ–¥—É–ª—å</li>
                </ul>
            </section>

            <section class="section" id="business-processes">
                <h2>üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤</h2>
                
                <h3>–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–¥–µ–ª–∫–∏ (Deal)</h3>
                <p>–°–¥–µ–ª–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ <strong>7 —É—Ä–æ–≤–Ω–µ–π</strong> —Å —Ç—Ä–µ–º—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏:</p>
                
                <h4>–£—Ä–æ–≤–µ–Ω—å 1: –ò–Ω—Ç–µ—Ä–µ—Å (Interest)</h4>
                <ul>
                    <li>–ó–∞–∫–∞–∑—á–∏–∫ –ø—Ä–æ—è–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å –∫ –ª–æ—Ç—É</li>
                    <li>–ï—â—ë –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ, —Ç–æ–ª—å–∫–æ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ</li>
                    <li>–ú–æ–¥–µ–ª—å: <code>customers.Interest</code></li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 2: –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (Offer)</h4>
                <ul>
                    <li>–ü–æ—Å—Ç–∞–≤—â–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</li>
                    <li>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç</li>
                    <li>–ú–æ–¥–µ–ª—å: <code>suppliers.Offer</code></li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 3: –ó–∞–∫–∞–∑ (Order)</h4>
                <ul>
                    <li>–ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ—Ç–∞</li>
                    <li>–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è <code>Deal</code></li>
                    <li>–ú–æ–¥–µ–ª—å: <code>customers.Order</code></li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 4: –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (Financial Status)</h4>
                <ul>
                    <li><strong>PENDING</strong> ‚Üí –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã</li>
                    <li><strong>PAYMENT_INITIATED</strong> ‚Üí –û–ø–ª–∞—Ç–∞ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞–∫–∞–∑—á–∏–∫–æ–º</li>
                    <li><strong>PAYMENT_RECEIVED</strong> ‚Üí –û–ø–ª–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤)</li>
                    <li><strong>FUNDS_TRANSFERRED</strong> ‚Üí –°—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥–∞–Ω—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó</li>
                    <li><strong>OPERATOR_CN_FUNDS_RECEIVED</strong> ‚Üí –û–ø–µ—Ä–∞—Ç–æ—Ä CN –ø–æ–ª—É—á–∏–ª —Å—Ä–µ–¥—Å—Ç–≤–∞</li>
                    <li><strong>SUPPLIER_PAID</strong> ‚Üí –ü–æ—Å—Ç–∞–≤—â–∏–∫ –æ–ø–ª–∞—á–µ–Ω</li>
                    <li><strong>COMPLETED</strong> ‚Üí –§–∏–Ω–∞–Ω—Å—ã –∑–∞–∫—Ä—ã—Ç—ã</li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 5-6: –°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (Cargo Status)</h4>
                <ul>
                    <li><strong>NOT_STARTED</strong> ‚Üí –ì—Ä—É–∑ –Ω–µ –Ω–∞—á–∞—Ç</li>
                    <li><strong>CARGO_TRANSFERRED</strong> ‚Üí –ì—Ä—É–∑ –ø–µ—Ä–µ–¥–∞–Ω –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É</li>
                    <li><strong>IN_TRANSIT</strong> ‚Üí –í –ø—É—Ç–∏</li>
                    <li><strong>AT_CUSTOMS</strong> ‚Üí –ù–∞ —Ç–∞–º–æ–∂–Ω–µ</li>
                    <li><strong>CUSTOMS_CLEARED</strong> ‚Üí –¢–∞–º–æ–∂–Ω—è –ø—Ä–æ–π–¥–µ–Ω–∞</li>
                    <li><strong>DELIVERED</strong> ‚Üí –î–æ—Å—Ç–∞–≤–ª–µ–Ω –∑–∞–∫–∞–∑—á–∏–∫—É</li>
                </ul>

                <h4>–£—Ä–æ–≤–µ–Ω—å 7: –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Document Status)</h4>
                <ul>
                    <li><strong>PENDING</strong> ‚Üí –î–æ–∫—É–º–µ–Ω—Ç—ã –æ–∂–∏–¥–∞—é—Ç</li>
                    <li><strong>SUBMITTED</strong> ‚Üí –î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–¥–∞–Ω—ã</li>
                    <li><strong>UNDER_REVIEW</strong> ‚Üí –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</li>
                    <li><strong>CORRIDOR_ASSIGNED</strong> ‚Üí –ö–æ—Ä–∏–¥–æ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω</li>
                    <li><strong>CLEARED</strong> ‚Üí –í—ã–ø—É—â–µ–Ω</li>
                    <li><strong>REJECTED</strong> ‚Üí –û—Ç–∫–ª–æ–Ω–µ–Ω</li>
                </ul>

                <h3>State Machine (–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç)</h3>
                <p>–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>State Machine</strong> –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:</p>
                
                <pre><code>DealState.CREATED
  ‚Üí DealState.OFFER_SUBMITTED
  ‚Üí DealState.SUPPLIER_SELECTED
  ‚Üí DealState.PAYMENT_INITIATED
  ‚Üí DealState.PAYMENT_RECEIVED
  ‚Üí DealState.FUNDS_TRANSFERRED
  ‚Üí DealState.OPERATOR_CN_FUNDS_RECEIVED
  ‚Üí DealState.SUPPLIER_PAID
  ‚Üí DealState.CARGO_TRANSFERRED
  ‚Üí DealState.IN_TRANSIT
  ‚Üí DealState.AT_CUSTOMS
  ‚Üí DealState.CUSTOMS_CLEARED
  ‚Üí DealState.DELIVERED
  ‚Üí DealState.COMPLETED</code></pre>

                <div class="info-box">
                    <strong>–ü—Ä–∞–≤–∏–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:</strong>
                    <ul>
                        <li>–ì—Ä—É–∑ –Ω–µ –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã</li>
                        <li>–ü–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑—á–∏–∫–∞</li>
                        <li>–ì—Ä—É–∑ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º</li>
                        <li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–º</li>
                        <li>–¢–∞–º–æ–∂–Ω—è –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞</li>
                    </ul>
                </div>
            </section>

            <section class="section" id="platform-workflow">
                <h2>üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</h2>
                
                <h3>–û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã</h3>
                
                <h4>1. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (Announce)</h4>
                <p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫–∏:</strong></p>
                <ul>
                    <li><strong>–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ</strong> - –∑–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é</li>
                    <li><strong>–ì–æ—Å–ó–∞–∫—É–ø</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GraphQL API</li>
                    <li><strong>–°–∞–º—Ä—É–∫</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ REST API</li>
                </ul>

                <h4>2. –ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞ (Interest)</h4>
                <p><strong>–ó–∞–∫–∞–∑—á–∏–∫:</strong></p>
                <ul>
                    <li>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –ª–æ—Ç—ã</li>
                    <li>–ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å <code>Interest</code> (—Ç–∏–ø—ã: –°–ª–µ–∂–µ–Ω–∏–µ, –†–∞—Å—á—ë—Ç, –£—á–∞—Å—Ç–∏–µ)</li>
                    <li>–ï—â—ë –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ</li>
                </ul>

                <h4>3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (Offer)</h4>
                <p><strong>–ü–æ—Å—Ç–∞–≤—â–∏–∫:</strong></p>
                <ul>
                    <li>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ—Ç—ã</li>
                    <li>–°–æ–∑–¥–∞—ë—Ç <code>Offer</code> –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ—Ç–∞</li>
                    <li>–£–∫–∞–∑—ã–≤–∞–µ—Ç —Ü–µ–Ω—ã, —É—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –æ–ø–ª–∞—Ç—ã</li>
                    <li>–°–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ (<code>Product</code>)</li>
                </ul>

                <h4>4. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏ —Å–¥–µ–ª–∫–∏ (Order ‚Üí Deal)</h4>
                <p><strong>–ó–∞–∫–∞–∑—á–∏–∫:</strong></p>
                <ul>
                    <li>–°–æ–∑–¥–∞—ë—Ç <code>Order</code> –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ—Ç–∞</li>
                    <li>–í—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)</li>
                    <li>–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è <code>Deal</code></li>
                </ul>
                <div class="warning-box">
                    <strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –û–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ë–î)
                </div>

                <h4>5. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ—Ç–æ–∫</h4>
                <ol>
                    <li><strong>–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</strong> (–ó–∞–∫–∞–∑—á–∏–∫) - –°—Ç–∞—Ç—É—Å: <code>PAYMENT_INITIATED</code></li>
                    <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π</strong> - –°—Ä–µ–¥—Å—Ç–≤–∞ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è, —Å—Ç–∞—Ç—É—Å: <code>PAYMENT_RECEIVED</code></li>
                    <li><strong>–ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó</strong> - –°—Ç–∞—Ç—É—Å: <code>FUNDS_TRANSFERRED</code></li>
                    <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º CN</strong> - –°—Ç–∞—Ç—É—Å: <code>OPERATOR_CN_FUNDS_RECEIVED</code></li>
                    <li><strong>–û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</strong> (–û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó) - –°—Ç–∞—Ç—É—Å: <code>SUPPLIER_PAID</code></li>
                    <li><strong>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º</strong> - –§–ª–∞–≥: <code>supplier_payment_confirmed = True</code></li>
                </ol>

                <h4>6. –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫</h4>
                <ol>
                    <li><strong>–ü–µ—Ä–µ–¥–∞—á–∞ –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É</strong> (–ü–æ—Å—Ç–∞–≤—â–∏–∫) - –°—Ç–∞—Ç—É—Å: <code>CARGO_TRANSFERRED</code></li>
                    <li><strong>–ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–º</strong> - –§–ª–∞–≥: <code>carrier_cargo_confirmed = True</code>, –°—Ç–∞—Ç—É—Å: <code>IN_TRANSIT</code></li>
                    <li><strong>–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Ç–∞–º–æ–∂–Ω—é</strong> - –°—Ç–∞—Ç—É—Å: <code>AT_CUSTOMS</code></li>
                    <li><strong>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–º–æ–∂–Ω–µ–π</strong> - –§–ª–∞–≥: <code>customs_cargo_confirmed = True</code></li>
                    <li><strong>–¢–∞–º–æ–∂–µ–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</strong> - –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: <code>CLEARED</code>, –°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞: <code>CUSTOMS_CLEARED</code></li>
                    <li><strong>–î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–∫–∞–∑—á–∏–∫—É</strong> - –°—Ç–∞—Ç—É—Å: <code>DELIVERED</code></li>
                </ol>
            </section>

            <section class="section" id="roles">
                <h2>üë• –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–π</h2>
                
                <h3>–†–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ</h3>
                
                <div class="highlight-box">
                    <h4>1. –ó–∞–∫–∞–∑—á–∏–∫ (Customer)</h4>
                    <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = CUSTOMER</code></p>
                    <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏ –ª–æ—Ç–æ–≤</li>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ (<code>Interest</code>)</li>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (<code>Order</code>) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç <code>Deal</code></li>
                        <li>–í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</li>
                        <li>–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</li>
                        <li>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h4>2. –ü–æ—Å—Ç–∞–≤—â–∏–∫ (Supplier)</h4>
                    <p><strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> <code>UserProfile</code> —Å <code>profile_type = SUPPLIER</code></p>
                    <p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (<code>Product</code>)</li>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (<code>Offer</code>)</li>
                        <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ª–æ—Ç–æ–≤</li>
                        <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã</li>
                        <li>–ü–µ—Ä–µ–¥–∞—á–∞ –≥—Ä—É–∑–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É</li>
                    </ul>
                </div>

                <h4>3. –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó (Operator KZ)</h4>
                <ul>
                    <li>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</li>
                    <li>–ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É CN</li>
                    <li>–û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</li>
                    <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏</li>
                </ul>

                <h4>4. –û–ø–µ—Ä–∞—Ç–æ—Ä CN (Operator CN)</h4>
                <ul>
                    <li>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–ó</li>
                    <li>–û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –≤ –ö–∏—Ç–∞–µ</li>
                    <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤</li>
                </ul>

                <h4>5. –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ (Carrier)</h4>
                <ul>
                    <li>–ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä—É–∑–∞ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</li>
                    <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞</li>
                    <li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≥—Ä—É–∑–∞</li>
                    <li>–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Ç–∞–º–æ–∂–Ω—é –∏ –∑–∞–∫–∞–∑—á–∏–∫—É</li>
                </ul>

                <h4>6. –¢–∞–º–æ–∂–Ω—è (Customs)</h4>
                <ul>
                    <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä—É–∑–∞</li>
                    <li>–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–º–æ–∂–µ–Ω–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</li>
                    <li>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ä–∏–¥–æ—Ä–∞ (–∑–µ–ª—ë–Ω—ã–π/–∂—ë–ª—Ç—ã–π/–∫—Ä–∞—Å–Ω—ã–π)</li>
                    <li>–í—ã–ø—É—Å–∫ —Å —Ç–∞–º–æ–∂–Ω–∏</li>
                </ul>

                <h4>7. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (Platform)</h4>
                <ul>
                    <li>–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–æ–≤</li>
                    <li>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ–¥ —Å–¥–µ–ª–∫–∏</li>
                    <li>–ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º</li>
                    <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç</li>
                    <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫</li>
                    <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π</li>
                </ul>

                <h3>–ú–∞—Ç—Ä–∏—Ü–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</h3>
                <table>
                    <thead>
                        <tr>
                            <th>–†–æ–ª—å</th>
                            <th>–ú–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å</th>
                            <th>–ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å</th>
                            <th>–ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>–ó–∞–∫–∞–∑—á–∏–∫</strong></td>
                            <td>–°–≤–æ–∏ —Å–¥–µ–ª–∫–∏, –æ–±—ä—è–≤–ª–µ–Ω–∏—è</td>
                            <td>Interest, Order, Deal</td>
                            <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (–∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ)</td>
                        </tr>
                        <tr>
                            <td><strong>–ü–æ—Å—Ç–∞–≤—â–∏–∫</strong></td>
                            <td>–°–≤–æ–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ—Ç—ã</td>
                            <td>Product, Offer</td>
                            <td>–°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (–ø–µ—Ä–µ–¥–∞—á–∞), –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</td>
                        </tr>
                        <tr>
                            <td><strong>–û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (–æ–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞)</td>
                        </tr>
                        <tr>
                            <td><strong>–û–ø–µ—Ä–∞—Ç–æ—Ä CN</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è)</td>
                        </tr>
                        <tr>
                            <td><strong>–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (–ø—Ä–∏–Ω—è—Ç–∏–µ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –¥–æ—Å—Ç–∞–≤–∫–∞)</td>
                        </tr>
                        <tr>
                            <td><strong>–¢–∞–º–æ–∂–Ω—è</strong></td>
                            <td>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Å—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞ (—Ç–∞–º–æ–∂–Ω—è)</td>
                        </tr>
                        <tr>
                            <td><strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</strong></td>
                            <td>–í—Å–µ —Å–¥–µ–ª–∫–∏</td>
                            <td>-</td>
                            <td>–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã (—á–µ—Ä–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É)</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section class="section" id="technical">
                <h2>üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>
                
                <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫</h3>
                <p><strong>Backend:</strong></p>
                <ul>
                    <li>Django 5.2.8</li>
                    <li>Django REST Framework</li>
                    <li>PostgreSQL (production) / SQLite (development)</li>
                    <li>Redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, Celery –±—Ä–æ–∫–µ—Ä)</li>
                    <li>Celery (—Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏)</li>
                    <li>Gunicorn (WSGI —Å–µ—Ä–≤–µ—Ä)</li>
                </ul>

                <p><strong>Frontend:</strong></p>
                <ul>
                    <li>HTML5, CSS3, JavaScript</li>
                    <li>jQuery</li>
                    <li>AOS (–∞–Ω–∏–º–∞—Ü–∏–∏)</li>
                    <li>Swiper (—Å–ª–∞–π–¥–µ—Ä—ã)</li>
                    <li>Flatpickr (–¥–∞—Ç—ã)</li>
                </ul>

                <h3>API –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h3>
                <p><strong>–û—Å–Ω–æ–≤–Ω–æ–π endpoint:</strong> <code>/api/v1/deals/</code></p>
                <p><strong>–î–µ–π—Å—Ç–≤–∏—è:</strong></p>
                <ul>
                    <li><code>POST /api/v1/deals/</code> - –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏ (–∑–∞–∫–∞–∑—á–∏–∫)</li>
                    <li><code>GET /api/v1/deals/</code> - –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ä–æ–ª–∏)</li>
                    <li><code>GET /api/v1/deals/{id}/</code> - –î–µ—Ç–∞–ª–∏ —Å–¥–µ–ª–∫–∏</li>
                    <li><code>POST /api/v1/deals/{id}/submit-offer/</code> - –ü–æ–¥–∞—á–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Å—Ç–∞–≤—â–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/select-supplier/</code> - –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–∑–∞–∫–∞–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/initiate-payment/</code> - –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã (–∑–∞–∫–∞–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/confirm-payment/</code> - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)</li>
                    <li><code>POST /api/v1/deals/{id}/transfer-funds/</code> - –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)</li>
                    <li><code>POST /api/v1/deals/{id}/pay-supplier/</code> - –û–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–æ–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó)</li>
                    <li><code>POST /api/v1/deals/{id}/accept-cargo/</code> - –ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä—É–∑–∞ (–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/deliver-to-customs/</code> - –î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Ç–∞–º–æ–∂–Ω—é (–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫)</li>
                    <li><code>POST /api/v1/deals/{id}/process-customs/</code> - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–º–æ–∂–Ω–∏ (—Ç–∞–º–æ–∂–Ω—è)</li>
                    <li><code>POST /api/v1/deals/{id}/complete/</code> - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏</li>
                </ul>
            </section>

            <section class="section" id="integrations">
                <h2>üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</h2>
                
                <h3>–ì–æ—Å–ó–∞–∫—É–ø (goszakup.gov.kz)</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> GraphQL API</li>
                    <li><strong>URL:</strong> <code>https://ows.goszakup.gov.kz/v3/graphql</code></li>
                    <li><strong>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:</strong> Bearer Token</li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</li>
                </ul>

                <h3>–°–∞–º—Ä—É–∫ (zakup.sk.kz)</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> REST API</li>
                    <li><strong>URL:</strong> <code>https://zakup.sk.kz/eprocsearch/api/external/4dv3rts</code></li>
                    <li><strong>–ú–µ—Ç–æ–¥:</strong> POST</li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º</li>
                </ul>

                <h3>–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ë–∞–Ω–∫ –†–ö</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> RSS XML</li>
                    <li><strong>URL:</strong> <code>https://nationalbank.kz/rss/get_rates.cfm</code></li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</li>
                </ul>

                <h3>NCANode (–≠–¶–ü)</h3>
                <ul>
                    <li><strong>–¢–∏–ø:</strong> REST API</li>
                    <li><strong>URL:</strong> <code>https://v3.ncanode.kz/api/v1</code></li>
                    <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤</li>
                </ul>
            </section>

            <section class="section" id="security">
                <h2>üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</h2>
                
                <h3>–°–∏—Å—Ç–µ–º–∞ permissions</h3>
                <p><strong>View-level permissions (DRF):</strong></p>
                <ul>
                    <li><code>IsPlatform</code> - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (is_staff)</li>
                    <li><code>IsCustomer</code> - –ó–∞–∫–∞–∑—á–∏–∫</li>
                    <li><code>IsSupplier</code> - –ü–æ—Å—Ç–∞–≤—â–∏–∫</li>
                    <li><code>IsOperatorKZ</code> - –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó</li>
                    <li><code>IsOperatorCN</code> - –û–ø–µ—Ä–∞—Ç–æ—Ä CN</li>
                    <li><code>IsCarrier</code> - –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</li>
                    <li><code>IsCustoms</code> - –¢–∞–º–æ–∂–Ω—è</li>
                </ul>

                <p><strong>Object-level permissions (DealPolicy):</strong></p>
                <ul>
                    <li><code>DealPolicy.can_view()</code> - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–¥–µ–ª–∫–∏</li>
                    <li><code>DealPolicy.can_submit_offer()</code> - –ü–æ–¥–∞—á–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</li>
                    <li><code>DealPolicy.can_select_supplier()</code> - –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</li>
                    <li><code>DealPolicy.can_pay()</code> - –û–ø–ª–∞—Ç–∞</li>
                    <li><code>DealPolicy.can_confirm_payment()</code> - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</li>
                    <li><code>DealPolicy.can_transfer_funds()</code> - –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤</li>
                    <li>–ò –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã...</li>
                </ul>

                <div class="highlight-box">
                    <strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ <code>DealPolicy</code>
                </div>
            </section>

            <section class="section" id="diagrams">
                <h2>üó∫Ô∏è –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (–ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞)</h2>
                
                <h3>1. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h3>
                <div class="info-box" style="margin-bottom: 20px;">
                    <strong>üí° –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞:</strong>
                    <ul style="margin-top: 10px; margin-bottom: 0;">
                        <li>–ù–∞–∂–º–∏—Ç–µ <strong>"üîç –£–≤–µ–ª–∏—á–∏—Ç—å"</strong> –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ</li>
                        <li><strong>–ö–ª–∏–∫–∞–π—Ç–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã</strong> –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</li>
                        <li><strong>–ù–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä</strong> –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</li>
                        <li>–ù–∞–∂–º–∏—Ç–µ <strong>Escape</strong> –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –≤–Ω–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è</li>
                    </ul>
                </div>
                <div class="mermaid-container" id="structure-diagram-container">
                    <button class="mermaid-zoom-btn" onclick="openStructureModal()">üîç –£–≤–µ–ª–∏—á–∏—Ç—å</button>
                    <div class="mermaid" id="structure-diagram" style="min-height: 500px; overflow: visible;">
graph TB
    subgraph "Core Layer"
        A[core/] --> A1[BaseModel]
        A --> A2[BaseTimestampedModel]
        A --> A3[TimestampedModel]
    end
    
    subgraph "Common Layer"
        B[common/] --> B1[Currency]
        B --> B2[Kato]
        B --> B3[SubjectType]
        B --> B4[TenderInfo]
    end
    
    subgraph "User Management"
        C[accounts/] --> C1[UserProfile]
        C --> C2[CustomerProfile]
        C --> C3[SupplierProfile]
        C --> C4[OperatorKZProfile]
        C --> C5[OperatorCNProfile]
        C --> C6[CarrierProfile]
        C --> C7[CustomsProfile]
    end
    
    subgraph "Deal-Centric Architecture"
        D[deals/] --> D1[Deal]
        D --> D2[DealStatusHistory]
        D --> D3[PaymentScheme]
        D --> D4[PlatformPaymentReceived]
        D --> D5[State Machine]
        D --> D6[DealPolicy]
    end
    
    subgraph "Business Entities"
        E[announces/] --> E1[Announce]
        E --> E2[AnnounceLot]
        E --> E3[LotFile]
        
        F[customers/] --> F1[Interest]
        F --> F2[Order]
        F --> F3[OrderItem]
        
        G[suppliers/] --> G1[Product]
        G --> G2[Offer]
        G --> G3[OfferAnnounceLot]
    end
    
    subgraph "Role Modules"
        H[operators_kz/]
        I[operators_cn/]
        J[carriers/]
        K[customs/]
    end
    
    subgraph "Integrations"
        L[integrations/] --> L1[GoszakupService]
        L --> L2[SamrukService]
        L --> L3[NationalBankService]
    end
    
    C1 --> D1
    E2 --> D1
    F2 --> D1
    G2 --> D1
    D1 --> D2
    D1 --> D3
    D1 --> D4
                    </div>
                </div>

                <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                <div class="modal" id="structureModal">
                    <div class="modal-content">
                        <button class="modal-close" onclick="closeStructureModal()">√ó</button>
                        <h3 style="margin-bottom: 20px; color: #0095ff;">–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ Bridge CRM</h3>
                        <div class="diagram-controls">
                            <button onclick="zoomDiagram('in')" title="–£–≤–µ–ª–∏—á–∏—Ç—å">+</button>
                            <button onclick="zoomDiagram('out')" title="–£–º–µ–Ω—å—à–∏—Ç—å">‚àí</button>
                            <button onclick="zoomDiagram('reset')" title="–°–±—Ä–æ—Å–∏—Ç—å">‚åÇ</button>
                        </div>
                        <div id="structure-diagram-loading" class="mermaid-loading" style="display: none;">
                            –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã
                        </div>
                        <div class="mermaid" id="structure-diagram-modal" style="transform-origin: top left;">
graph TB
    subgraph "Core Layer"
        A[core/] --> A1[BaseModel]
        A --> A2[BaseTimestampedModel]
        A --> A3[TimestampedModel]
    end
    
    subgraph "Common Layer"
        B[common/] --> B1[Currency]
        B --> B2[Kato]
        B --> B3[SubjectType]
        B --> B4[TenderInfo]
    end
    
    subgraph "User Management"
        C[accounts/] --> C1[UserProfile]
        C --> C2[CustomerProfile]
        C --> C3[SupplierProfile]
        C --> C4[OperatorKZProfile]
        C --> C5[OperatorCNProfile]
        C --> C6[CarrierProfile]
        C --> C7[CustomsProfile]
    end
    
    subgraph "Deal-Centric Architecture"
        D[deals/] --> D1[Deal]
        D --> D2[DealStatusHistory]
        D --> D3[PaymentScheme]
        D --> D4[PlatformPaymentReceived]
        D --> D5[State Machine]
        D --> D6[DealPolicy]
    end
    
    subgraph "Business Entities"
        E[announces/] --> E1[Announce]
        E --> E2[AnnounceLot]
        E --> E3[LotFile]
        
        F[customers/] --> F1[Interest]
        F --> F2[Order]
        F --> F3[OrderItem]
        
        G[suppliers/] --> G1[Product]
        G --> G2[Offer]
        G --> G3[OfferAnnounceLot]
    end
    
    subgraph "Role Modules"
        H[operators_kz/]
        I[operators_cn/]
        J[carriers/]
        K[customs/]
    end
    
    subgraph "Integrations"
        L[integrations/] --> L1[GoszakupService]
        L --> L2[SamrukService]
        L --> L3[NationalBankService]
    end
    
    C1 --> D1
    E2 --> D1
    F2 --> D1
    G2 --> D1
    D1 --> D2
    D1 --> D3
    D1 --> D4
                        </div>
                        <div class="node-info" id="nodeInfo"></div>
                    </div>
                </div>

                <h3>2. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–¥–µ–ª–∫–∏ (Deal Flow)</h3>
                <div class="mermaid">
stateDiagram-v2
    [*] --> Created: –°–æ–∑–¥–∞–Ω–∏–µ Deal
    
    Created --> OfferSubmitted: –ü–æ—Å—Ç–∞–≤—â–∏–∫ –ø–æ–¥–∞—ë—Ç Offer
    OfferSubmitted --> SupplierSelected: –ó–∞–∫–∞–∑—á–∏–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    SupplierSelected --> PaymentInitiated: –ó–∞–∫–∞–∑—á–∏–∫ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É
    
    PaymentInitiated --> PaymentReceived: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–ª—É—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É
    PaymentReceived --> FundsTransferred: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó
    FundsTransferred --> OperatorCNFundsReceived: –û–ø–µ—Ä–∞—Ç–æ—Ä CN –ø–æ–ª—É—á–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    OperatorCNFundsReceived --> SupplierPaid: –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    
    SupplierPaid --> CargoTransferred: –ü–æ—Å—Ç–∞–≤—â–∏–∫ –ø–µ—Ä–µ–¥–∞—ë—Ç –≥—Ä—É–∑ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É
    CargoTransferred --> InTransit: –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≥—Ä—É–∑
    InTransit --> AtCustoms: –ì—Ä—É–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ —Ç–∞–º–æ–∂–Ω—é
    AtCustoms --> CustomsCleared: –¢–∞–º–æ–∂–Ω—è –æ–±—Ä–∞–±–æ—Ç–∞–ª–∞
    CustomsCleared --> Delivered: –ì—Ä—É–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∑–∞–∫–∞–∑—á–∏–∫—É
    
    Delivered --> Completed: –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
    Completed --> [*]
                </div>

                <h3>3. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–π –≤ —Å–¥–µ–ª–∫–µ</h3>
                <div class="mermaid">
graph LR
    subgraph "–ó–∞–∫–∞–∑—á–∏–∫ (Customer)"
        C1[–°–æ–∑–¥–∞—ë—Ç Order] --> C2[–í—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞]
        C2 --> C3[–ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É]
        C3 --> C4[–ó–∞–≤–µ—Ä—à–∞–µ—Ç —Å–¥–µ–ª–∫—É]
    end
    
    subgraph "–ü–æ—Å—Ç–∞–≤—â–∏–∫ (Supplier)"
        S1[–°–æ–∑–¥–∞—ë—Ç Offer] --> S2[–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—É]
        S2 --> S3[–ü–µ—Ä–µ–¥–∞—ë—Ç –≥—Ä—É–∑]
    end
    
    subgraph "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (Platform)"
        P1[–ü–æ–ª—É—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É] --> P2[–ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞]
        P2 --> P3[–ü–µ—Ä–µ–¥–∞—ë—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ö–ó]
    end
    
    subgraph "–û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó"
        O1[–ü–æ–ª—É—á–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞] --> O2[–ü–µ—Ä–µ–¥–∞—ë—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É CN]
        O2 --> O3[–û–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞]
    end
    
    subgraph "–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ (Carrier)"
        CR1[–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≥—Ä—É–∑] --> CR2[–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç]
        CR2 --> CR3[–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞ —Ç–∞–º–æ–∂–Ω—é]
        CR3 --> CR4[–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑—á–∏–∫—É]
    end
    
    subgraph "–¢–∞–º–æ–∂–Ω—è (Customs)"
        CS1[–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ] --> CS2[–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã]
        CS2 --> CS3[–í—ã–ø—É—Å–∫–∞–µ—Ç –≥—Ä—É–∑]
    end
    
    C1 --> D[Deal]
    S1 --> D
    C2 --> D
    C3 --> P1
    P3 --> O1
    O3 --> S2
    S3 --> CR1
    CR3 --> CS1
    CS3 --> CR4
    CR4 --> C4
                </div>

                <h3>4. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ—Ç–æ–∫</h3>
                <div class="mermaid">
sequenceDiagram
    participant C as –ó–∞–∫–∞–∑—á–∏–∫
    participant P as –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞
    participant OKZ as –û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ó
    participant OCN as –û–ø–µ—Ä–∞—Ç–æ—Ä CN
    participant S as –ü–æ—Å—Ç–∞–≤—â–∏–∫
    
    C->>P: 1. –ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É
    Note over C,P: financial_status = PAYMENT_INITIATED
    
    C->>P: 2. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏
    P->>P: 3. –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    Note over P: funds_locked = True
    P->>P: 4. –°–æ–∑–¥–∞—ë—Ç PlatformPaymentReceived
    Note over P: financial_status = PAYMENT_RECEIVED
    
    P->>OKZ: 5. –ü–µ—Ä–µ–¥–∞—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    Note over P,OKZ: financial_status = FUNDS_TRANSFERRED
    
    OKZ->>OCN: 6. –ü–µ—Ä–µ–¥–∞—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞
    Note over OKZ,OCN: financial_status = OPERATOR_CN_FUNDS_RECEIVED
    
    OCN->>S: 7. –û–ø–ª–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    Note over OCN,S: financial_status = SUPPLIER_PAID
    
    S->>S: 8. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ
    Note over S: supplier_payment_confirmed = True
                </div>

                <h3>5. –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫</h3>
                <div class="mermaid">
sequenceDiagram
    participant S as –ü–æ—Å—Ç–∞–≤—â–∏–∫
    participant CR as –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫
    participant CS as –¢–∞–º–æ–∂–Ω—è
    participant C as –ó–∞–∫–∞–∑—á–∏–∫
    
    Note over S: supplier_payment_confirmed = True
    
    S->>CR: 1. –ü–µ—Ä–µ–¥–∞—ë—Ç –≥—Ä—É–∑
    Note over S,CR: cargo_status = CARGO_TRANSFERRED
    
    CR->>CR: 2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ
    Note over CR: carrier_cargo_confirmed = True
    CR->>CR: 3. –ù–∞—á–∏–Ω–∞–µ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
    Note over CR: cargo_status = IN_TRANSIT
    
    CR->>CS: 4. –î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞ —Ç–∞–º–æ–∂–Ω—é
    Note over CR,CS: cargo_status = AT_CUSTOMS
    
    CS->>CS: 5. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ
    Note over CS: customs_cargo_confirmed = True
    
    CS->>CS: 6. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã
    Note over CS: document_status = CLEARED
    Note over CS: cargo_status = CUSTOMS_CLEARED
    
    CS->>CR: 7. –í—ã–ø—É—Å–∫–∞–µ—Ç –≥—Ä—É–∑
    CR->>C: 8. –î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑—á–∏–∫—É
    Note over CR,C: cargo_status = DELIVERED
                </div>
            </section>

            <section class="section" id="conclusions">
                <h2>üéØ –í—ã–≤–æ–¥—ã</h2>
                
                <h3>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h3>
                <ol>
                    <li><strong>–ß—ë—Ç–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</strong> - –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
                    <li><strong>Deal-—Ü–µ–Ω—Ç—Ä–∏—á–Ω–æ—Å—Ç—å</strong> - –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤—Ä–∞—â–∞—é—Ç—Å—è –≤–æ–∫—Ä—É–≥ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏</li>
                    <li><strong>State Machine</strong> - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</li>
                    <li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> - –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–æ–ª—è, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤</li>
                    <li><strong>–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</strong> - –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π</li>
                    <li><strong>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</li>
                </ol>

                <h3>–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è</h3>
                <ol>
                    <li><strong>–û–ø–µ—Ä–∞—Ç–æ—Ä—ã, –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏, —Ç–∞–º–æ–∂–Ω—è</strong> - –ø–æ–∫–∞ –Ω–µ –∏–º–µ—é—Ç –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Å–¥–µ–ª–∫–∞—Ö</li>
                    <li><strong>–ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞</strong> - –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π</li>
                    <li><strong>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</strong> - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</li>
                    <li><strong>–û—Ç—á—ë—Ç—ã</strong> - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –æ—Ç—á—ë—Ç—ã –ø–æ —Å–¥–µ–ª–∫–∞–º</li>
                    <li><strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> - —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏</li>
                </ol>
            </section>

            <hr>

            <footer style="text-align: center; color: #97999c; margin-top: 50px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
                <p><strong>Bridge CRM</strong> - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–Ω–¥–µ—Ä–∞–º–∏</p>
                <p>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-XX</p>
            </footer>
        </main>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" -->
    <a href="#intro" class="scroll-top" id="scrollTop">‚Üë</a>

    <script>
        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        const nodeData = {
            'A': {
                title: 'core/ - –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã',
                description: '–ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞',
                details: [
                    'BaseModel - UUID primary key',
                    'TimestampedModel - –ø–æ–ª—è –¥–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è',
                    'BaseTimestampedModel - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è UUID + timestamps'
                ]
            },
            'A1': { title: 'BaseModel', description: '–ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å —Å UUID primary key' },
            'A2': { title: 'BaseTimestampedModel', description: '–ú–æ–¥–µ–ª—å —Å UUID –∏ –ø–æ–ª—è–º–∏ –¥–∞—Ç' },
            'A3': { title: 'TimestampedModel', description: '–ú–æ–¥–µ–ª—å —Å –ø–æ–ª—è–º–∏ –¥–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è' },
            'B': {
                title: 'common/ - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏',
                description: '–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã',
                details: [
                    'Currency - –≤–∞–ª—é—Ç—ã',
                    'Kato - –∫–æ–¥—ã –ö–ê–¢–û',
                    'SubjectType - —Ç–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞–∫—É–ø–∫–∏',
                    'TenderInfo - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤'
                ]
            },
            'B1': { title: 'Currency', description: '–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–∞–ª—é—Ç' },
            'B2': { title: 'Kato', description: '–ö–æ–¥—ã –ö–ê–¢–û (–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)' },
            'B3': { title: 'SubjectType', description: '–¢–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞–∫—É–ø–∫–∏' },
            'B4': { title: 'TenderInfo', description: '–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤' },
            'C': {
                title: 'accounts/ - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏',
                description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏ –≤—Å–µ—Ö —Ä–æ–ª–µ–π',
                details: [
                    'UserProfile - –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å',
                    'CustomerProfile - –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–∫–∞–∑—á–∏–∫–∞',
                    'SupplierProfile - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞',
                    'OperatorKZProfile - –ø—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–ó',
                    'OperatorCNProfile - –ø—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ CN',
                    'CarrierProfile - –ø—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞',
                    'CustomsProfile - –ø—Ä–æ—Ñ–∏–ª—å —Ç–∞–º–æ–∂–Ω–∏'
                ]
            },
            'C1': { title: 'UserProfile', description: '–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π)' },
            'C2': { title: 'CustomerProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –∑–∞–∫–∞–∑—á–∏–∫–∞ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' },
            'C3': { title: 'SupplierProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' },
            'C4': { title: 'OperatorKZProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' },
            'C5': { title: 'OperatorCNProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∏—Ç–∞–π' },
            'C6': { title: 'CarrierProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞' },
            'C7': { title: 'CustomsProfile', description: '–ü—Ä–æ—Ñ–∏–ª—å —Ç–∞–º–æ–∂–Ω–∏' },
            'D': {
                title: 'deals/ - üéØ –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –°–£–©–ù–û–°–¢–¨',
                description: '–°–¥–µ–ª–∫–∏ - –≥–ª–∞–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã',
                details: [
                    'Deal - —Å–¥–µ–ª–∫–∞ –ø–æ –ª–æ—Ç—É',
                    'DealStatusHistory - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤',
                    'PaymentScheme - –ø–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞',
                    'PlatformPaymentReceived - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π',
                    'State Machine - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤',
                    'DealPolicy - –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞'
                ]
            },
            'D1': {
                title: 'Deal - –°–¥–µ–ª–∫–∞',
                description: '–ì–ª–∞–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã. –û–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞',
                details: [
                    '–°–≤—è–∑—å —Å –ª–æ—Ç–æ–º (announce_lot)',
                    '–ó–∞–∫–∞–∑—á–∏–∫ (customer)',
                    '–ü–æ—Å—Ç–∞–≤—â–∏–∫ (supplier)',
                    '–¢—Ä–∏ —Å—Ç–∞—Ç—É—Å–∞: —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π, –≥—Ä—É–∑, –¥–æ–∫—É–º–µ–Ω—Ç—ã',
                    '–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–æ–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤',
                    'State Machine –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤'
                ]
            },
            'D2': { title: 'DealStatusHistory', description: '–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (Event Sourcing –ø–æ–¥—Ö–æ–¥)' },
            'D3': { title: 'PaymentScheme', description: '–ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞ - –∫—Ç–æ –ø–ª–∞—Ç–∏—Ç, –∫–æ–º—É, –∑–∞ —á—Ç–æ, –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ' },
            'D4': { title: 'PlatformPaymentReceived', description: '–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞' },
            'D5': { title: 'State Machine', description: '–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤' },
            'D6': { title: 'DealPolicy', description: '–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞' },
            'E': {
                title: 'announces/ - –û–±—ä—è–≤–ª–µ–Ω–∏—è',
                description: '–û–±—ä—è–≤–ª–µ–Ω–∏—è –æ —Ç–µ–Ω–¥–µ—Ä–∞—Ö',
                details: [
                    'Announce - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ —Ç–µ–Ω–¥–µ—Ä–µ',
                    'AnnounceLot - –ª–æ—Ç –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏',
                    'LotFile - —Ñ–∞–π–ª –ª–æ—Ç–∞'
                ]
            },
            'E1': { title: 'Announce', description: '–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ —Ç–µ–Ω–¥–µ—Ä–µ (–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ—Ç–æ–≤)' },
            'E2': { title: 'AnnounceLot', description: '–õ–æ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–æ–¥–∏–Ω –ª–æ—Ç = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞)' },
            'E3': { title: 'LotFile', description: '–§–∞–π–ª, –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π –∫ –ª–æ—Ç—É' },
            'F': {
                title: 'customers/ - –ó–∞–∫–∞–∑—á–∏–∫–∏',
                description: '–ú–æ–¥—É–ª—å –∑–∞–∫–∞–∑—á–∏–∫–æ–≤',
                details: [
                    'Interest - –∏–Ω—Ç–µ—Ä–µ—Å –∑–∞–∫–∞–∑—á–∏–∫–∞ –∫ –ª–æ—Ç—É',
                    'Order - –∑–∞–∫–∞–∑ (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è Deal)',
                    'OrderItem - –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫–∞–∑–∞'
                ]
            },
            'F1': { title: 'Interest', description: '–ò–Ω—Ç–µ—Ä–µ—Å –∑–∞–∫–∞–∑—á–∏–∫–∞ –∫ –ª–æ—Ç—É (–µ—â—ë –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ)' },
            'F2': { title: 'Order', description: '–ó–∞–∫–∞–∑ –∑–∞–∫–∞–∑—á–∏–∫–∞ (–ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è Deal)' },
            'F3': { title: 'OrderItem', description: '–ü–æ–∑–∏—Ü–∏—è –∑–∞–∫–∞–∑–∞' },
            'G': {
                title: 'suppliers/ - –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏',
                description: '–ú–æ–¥—É–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤',
                details: [
                    'Product - –ø—Ä–æ–¥—É–∫—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞',
                    'Offer - –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ',
                    'OfferAnnounceLot - —Å–≤—è–∑—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ª–æ—Ç–æ–º'
                ]
            },
            'G1': { title: 'Product', description: '–ü—Ä–æ–¥—É–∫—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤)' },
            'G2': { title: 'Offer', description: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (—é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç)' },
            'G3': { title: 'OfferAnnounceLot', description: '–°–≤—è–∑—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ª–æ—Ç–æ–º –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–º' },
            'H': { title: 'operators_kz/', description: '–ú–æ–¥—É–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' },
            'I': { title: 'operators_cn/', description: '–ú–æ–¥—É–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ö–∏—Ç–∞–π' },
            'J': { title: 'carriers/', description: '–ú–æ–¥—É–ª—å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤' },
            'K': { title: 'customs/', description: '–ú–æ–¥—É–ª—å —Ç–∞–º–æ–∂–Ω–∏' },
            'L': {
                title: 'integrations/ - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏',
                description: '–í–Ω–µ—à–Ω–∏–µ API (read-only)',
                details: [
                    'GoszakupService - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ì–æ—Å–ó–∞–∫—É–ø (GraphQL)',
                    'SamrukService - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –°–∞–º—Ä—É–∫ (REST API)',
                    'NationalBankService - –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç (RSS XML)'
                ]
            },
            'L1': { title: 'GoszakupService', description: '–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –ì–æ—Å–ó–∞–∫—É–ø —á–µ—Ä–µ–∑ GraphQL' },
            'L2': { title: 'SamrukService', description: '–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –°–∞–º—Ä—É–∫ —á–µ—Ä–µ–∑ REST' },
            'L3': { title: 'NationalBankService', description: '–°–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –∏–∑ –ù–ë –†–ö' }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#0095ff',
                primaryTextColor: '#000',
                primaryBorderColor: '#0077cc',
                lineColor: '#0095ff',
                secondaryColor: '#e8f4fd',
                tertiaryColor: '#fafafa'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function openStructureModal() {
            const modal = document.getElementById('structureModal');
            const loadingIndicator = document.getElementById('structure-diagram-loading');
            const modalDiagram = document.getElementById('structure-diagram-modal');
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –º–∞—Å—à—Ç–∞–±
            diagramScale = 1;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            if (loadingIndicator) {
                loadingIndicator.style.display = 'flex';
            }
            if (modalDiagram) {
                modalDiagram.style.display = 'none';
            }
            
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –¥–∏–∞–≥—Ä–∞–º–º—É –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –ø–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
            setTimeout(() => {
                if (modalDiagram) {
                    // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–µ–Ω–¥–µ—Ä –µ—Å–ª–∏ –±—ã–ª
                    if (modalDiagram.dataset.rendered) {
                        const svg = modalDiagram.querySelector('svg');
                        if (svg) svg.remove();
                        modalDiagram.removeAttribute('data-processed');
                        modalDiagram.innerHTML = modalDiagram.getAttribute('data-original-content') || modalDiagram.innerHTML;
                    } else {
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
                        modalDiagram.setAttribute('data-original-content', modalDiagram.textContent);
                    }
                    
                    // –†–µ–Ω–¥–µ—Ä–∏–º –∑–∞–Ω–æ–≤–æ
                    try {
                        mermaid.init(undefined, modalDiagram).then(() => {
                            modalDiagram.dataset.rendered = 'true';
                            
                            // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                            if (loadingIndicator) {
                                loadingIndicator.style.display = 'none';
                            }
                            modalDiagram.style.display = 'block';
                            
                            // –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ SVG –≤–∏–¥–µ–Ω
                            const svg = modalDiagram.querySelector('svg');
                            if (svg) {
                                svg.style.width = '100%';
                                svg.style.height = 'auto';
                                svg.style.maxWidth = 'none';
                                svg.style.display = 'block';
                            }
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
                            setTimeout(() => {
                                addDiagramInteractivity('structure-diagram-modal');
                            }, 500);
                        }).catch(err => {
                            console.error('–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ Mermaid:', err);
                            if (loadingIndicator) {
                                loadingIndicator.style.display = 'none';
                            }
                            modalDiagram.innerHTML = '<div class="mermaid-error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∏–∞–≥—Ä–∞–º–º—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</div>';
                            modalDiagram.style.display = 'block';
                        });
                    } catch (err) {
                        console.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:', err);
                        if (loadingIndicator) {
                            loadingIndicator.style.display = 'none';
                        }
                        if (modalDiagram) {
                            modalDiagram.innerHTML = '<div class="mermaid-error">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</div>';
                            modalDiagram.style.display = 'block';
                        }
                    }
                }
            }, 200);
        }

        function closeStructureModal() {
            const modal = document.getElementById('structureModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.getElementById('structureModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeStructureModal();
            }
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeStructureModal();
            }
        });

        // –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
        let diagramScale = 1;
        function zoomDiagram(direction) {
            const diagram = document.getElementById('structure-diagram-modal');
            if (!diagram) return;

            if (direction === 'in') {
                diagramScale = Math.min(diagramScale + 0.1, 2);
            } else if (direction === 'out') {
                diagramScale = Math.max(diagramScale - 0.1, 0.5);
            } else if (direction === 'reset') {
                diagramScale = 1;
            }

            const svg = diagram.querySelector('svg');
            if (svg) {
                svg.style.transform = `scale(${diagramScale})`;
                svg.style.transformOrigin = 'top left';
            } else {
                diagram.style.transform = `scale(${diagramScale})`;
                diagram.style.transformOrigin = 'top left';
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫ –¥–∏–∞–≥—Ä–∞–º–º–µ
        function addDiagramInteractivity(diagramId) {
            const diagram = document.querySelector(`#${diagramId} svg`);
            if (!diagram) return;

            const nodes = diagram.querySelectorAll('.node');
            const nodeInfo = document.getElementById('nodeInfo');

            nodes.forEach(node => {
                const nodeId = node.id;
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á —É–∑–ª–∞ –∏–∑ ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, flowchart-A-0 -> A)
                let nodeKey = null;
                
                // –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ–º—Å—è –∏–∑ ID
                const match = nodeId.match(/flowchart-([A-Z0-9]+)/);
                if (match) {
                    nodeKey = match[1];
                }
                
                // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –∏—â–µ–º –ø–æ —Ç–µ–∫—Å—Ç—É –º–µ—Ç–∫–∏
                if (!nodeKey) {
                    const label = node.querySelector('.nodeLabel');
                    if (label) {
                        const text = label.textContent.trim().toLowerCase();
                        
                        // –ú–∞–ø–ø–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–ª—é—á–∏
                        const textToKey = {
                            'core/': 'A',
                            'basemodel': 'A1',
                            'basetimestampedmodel': 'A2',
                            'timestampedmodel': 'A3',
                            'common/': 'B',
                            'currency': 'B1',
                            'kato': 'B2',
                            'subjecttype': 'B3',
                            'tenderinfo': 'B4',
                            'accounts/': 'C',
                            'userprofile': 'C1',
                            'customerprofile': 'C2',
                            'supplierprofile': 'C3',
                            'operatorkzprofile': 'C4',
                            'operatorcnprofile': 'C5',
                            'carrierprofile': 'C6',
                            'customsprofile': 'C7',
                            'deals/': 'D',
                            'deal': 'D1',
                            'dealstatushistory': 'D2',
                            'paymentscheme': 'D3',
                            'platformpaymentreceived': 'D4',
                            'state machine': 'D5',
                            'dealpolicy': 'D6',
                            'announces/': 'E',
                            'announce': 'E1',
                            'announcelot': 'E2',
                            'lotfile': 'E3',
                            'customers/': 'F',
                            'interest': 'F1',
                            'order': 'F2',
                            'orderitem': 'F3',
                            'suppliers/': 'G',
                            'product': 'G1',
                            'offer': 'G2',
                            'offerannouncelot': 'G3',
                            'operators_kz/': 'H',
                            'operators_cn/': 'I',
                            'carriers/': 'J',
                            'customs/': 'K',
                            'integrations/': 'L',
                            'goszakupservice': 'L1',
                            'samrukservice': 'L2',
                            'nationalbankservice': 'L3'
                        };
                        
                        for (const [key, value] of Object.entries(textToKey)) {
                            if (text.includes(key)) {
                                nodeKey = value;
                                break;
                            }
                        }
                    }
                }
                
                // –ù–∞—Ö–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —ç—Ç–æ–≥–æ —É–∑–ª–∞
                const nodeDataItem = nodeKey ? nodeData[nodeKey] : null;

                if (nodeDataItem) {
                    // –î–µ–ª–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–∑–ª–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏
                    const nodeElements = node.querySelectorAll('rect, circle, ellipse, polygon, path');
                    nodeElements.forEach(el => {
                        el.style.cursor = 'pointer';
                        
                        el.addEventListener('click', function(e) {
                            e.stopPropagation();
                            
                            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º expanded —É –≤—Å–µ—Ö —É–∑–ª–æ–≤
                            nodes.forEach(n => n.classList.remove('expanded'));
                            
                            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∫–ª–∞—Å—Å expanded
                            node.classList.toggle('expanded');
                            
                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
                            showNodeInfo(nodeDataItem, e);
                            
                            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ä—ë–±—Ä–∞
                            highlightConnectedEdges(node, diagram);
                        });

                        el.addEventListener('mouseenter', function(e) {
                            if (!node.classList.contains('expanded')) {
                                showNodeInfo(nodeDataItem, e);
                            }
                        });
                    });
                }
            });

            // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ —É–∑–ª–∞
            diagram.addEventListener('click', function(e) {
                if (e.target === diagram || e.target.tagName === 'svg' || e.target.classList.contains('edgePath')) {
                    hideNodeInfo();
                    nodes.forEach(n => n.classList.remove('expanded'));
                    diagram.querySelectorAll('.edgePath').forEach(edge => {
                        edge.classList.remove('highlighted');
                    });
                }
            });
        }

        function showNodeInfo(data, event) {
            const nodeInfo = document.getElementById('nodeInfo');
            if (!nodeInfo || !data) return;

            nodeInfo.innerHTML = `
                <button class="close-btn" onclick="hideNodeInfo()">√ó</button>
                <h4>${data.title}</h4>
                <p><strong>${data.description}</strong></p>
                ${data.details ? `
                    <ul>
                        ${data.details.map(detail => `<li>${detail}</li>`).join('')}
                    </ul>
                ` : ''}
            `;
            
            nodeInfo.classList.add('active');
            
            // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–ª–∏–∫–∞ –∏–ª–∏ –∫—É—Ä—Å–æ—Ä–∞
            const x = event ? event.clientX : window.innerWidth / 2;
            const y = event ? event.clientY : window.innerHeight / 2;
            
            // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é —Å —É—á—ë—Ç–æ–º –≥—Ä–∞–Ω–∏—Ü —ç–∫—Ä–∞–Ω–∞
            setTimeout(() => {
                const rect = nodeInfo.getBoundingClientRect();
                const padding = 20;
                
                let left = x + padding;
                let top = y + padding;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É
                if (left + rect.width > window.innerWidth - padding) {
                    left = x - rect.width - padding;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∏–∂–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É
                if (top + rect.height > window.innerHeight - padding) {
                    top = y - rect.height - padding;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É
                if (left < padding) {
                    left = padding;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Ö–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É
                if (top < padding) {
                    top = padding;
                }
                
                nodeInfo.style.left = `${left}px`;
                nodeInfo.style.top = `${top}px`;
            }, 10);
        }

        function hideNodeInfo() {
            const nodeInfo = document.getElementById('nodeInfo');
            if (nodeInfo) {
                nodeInfo.classList.remove('active');
            }
        }

        function highlightConnectedEdges(node, diagram) {
            if (!diagram) diagram = document.querySelector('#structure-diagram-modal svg');
            if (!diagram) return;

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –ø–æ–¥—Å–≤–µ—Ç–∫–∏
            diagram.querySelectorAll('.edgePath').forEach(edge => {
                edge.classList.remove('highlighted');
            });

            const nodeId = node.id;
            
            // –ù–∞—Ö–æ–¥–∏–º –∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ä—ë–±—Ä–∞
            const edges = diagram.querySelectorAll('.edgePath');
            edges.forEach(edge => {
                const pathId = edge.id || '';
                // Mermaid –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç —Ç–∏–ø–∞ flowchart-A-B-0 –¥–ª—è —Ä—ë–±–µ—Ä
                if (pathId.includes(nodeId.split('-').slice(0, -1).join('-')) || 
                    pathId.includes(nodeId.replace('flowchart-', '').split('-')[0])) {
                    edge.classList.add('highlighted');
                }
            });
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–∏–∞–≥—Ä–∞–º–º–µ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
        // –ñ–¥—ë–º –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ Mermaid
        window.addEventListener('load', () => {
            setTimeout(() => {
                const diagram = document.getElementById('structure-diagram');
                if (diagram && diagram.querySelector('svg')) {
                    addDiagramInteractivity('structure-diagram');
                } else {
                    // –ï—Å–ª–∏ –µ—â—ë –Ω–µ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–æ, –∂–¥—ë–º –µ—â—ë
                    setTimeout(() => {
                        addDiagramInteractivity('structure-diagram');
                    }, 1000);
                }
            }, 500);
        });

        // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        document.querySelectorAll('.nav-menu a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId.startsWith('#')) {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Å—Å—ã–ª–∫—É
                        document.querySelectorAll('.nav-menu a').forEach(a => a.classList.remove('active'));
                        this.classList.add('active');
                    }
                }
            });
        });

        // –ü–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ "–ù–∞–≤–µ—Ä—Ö"
        const scrollTopBtn = document.getElementById('scrollTop');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollTopBtn.classList.add('visible');
            } else {
                scrollTopBtn.classList.remove('visible');
            }
        });

        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav-menu a[href^="#"]');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>

